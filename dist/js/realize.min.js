/*!
 * Realize v0.7.16 (http://www.wkm.com.br)
 * Copyright 2015-2016 
 */
"use strict";function _typeof(a){return a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a}var Realize={};Realize.config={theme:"materialize",locale:"en",restUrls:{index:":url",show:":url/:id",add:":url/new",create:":url",edit:":url/:id/edit",update:":url/:id",destroy:":url/:id"},restMethods:{index:"GET",show:"GET",add:"GET",create:"POST",edit:"GET",update:"PUT",destroy:"DELETE"},grid:{pagination:{param:"p",perPage:20,window:4},sort:{param:"s",directionParam:"s_dir",fieldValueFormat:"%{field}",sortFieldName:"name"}}},Realize.setConfig=function(a){$.extend(!0,Realize.config,a)},$.extend(FormSerializer.patterns,{validate:/^[a-z_][a-z0-9#_\.-]*(?:\[(?:\d*|[a-z0-9#_\.-]+)\])*$/i,key:/[a-z0-9#_\.-]+|(?=\[\])/gi,named:/^[a-z0-9#_\.-]+$/i}),Realize.utils={},Realize.utils.getProp=function(a,b){var c=a.split("."),d=b;try{for(;c.length>0;)d=d[c.shift()]}catch(e){return""}return d},Realize.PropTypes={},Realize.PropTypes.localizedString=function(a,b,c){var d=a[b];if(null===d||void 0===d||"string"==typeof d&&0===d.length)return null;var e=Realize.t(d);return"string"!=typeof d||"string"!=typeof e||0===e.length?new Error("Property "+b+" from "+c+" is not a localized string."):void 0},Realize.i18n={},Realize.i18n.locales={},Realize.i18n.registerLocale=function(a,b){if(!$.isPlainObject(a))throw"Invalid Locale Object.";if(!b)throw"Invalid Locale Name.";var c=Realize.i18n.locales[b]||{};Realize.i18n.locales[b]=$.extend({},c,a)},Realize.i18n.setLocale=function(a){Realize.config.locale=a},Realize.i18n.translate=function(a,b){if(void 0===b&&(b=!1),"string"!=typeof a){if(b)throw"Key is not a string";return""}var c=Realize.config.locale,d=Realize.i18n.locales[c],e=Realize.utils.getProp(a,d);if(!e){if(b)throw"Key not found in locale object";e=a}return e},Realize.t=Realize.i18n.translate,Realize.i18n.registerLocale({"true":"Yes","false":"No",ok:"Ok",loading:"Loading...",select:"Select",actions:{"new":"New",send:"Send",filter:"Filter",clear:"Clear",add:"Add",update:"Update",cancel:"Cancel"},table:{emptyResult:"No results found.",selection:{clear:"clear selection",selectAll:"select all :count items",select:{singular:"1 item selected",plural:":count items selected"}}},masks:{date:{alias:"mm/dd/yyyy"},datetime:{mask:"m/d/y h:s",placeholder:"mm/dd/yyyy, hh:ss"},cpf:"999.999.999-99",cnpj:"99.999.999/9999-99",phone:"(99) 9999[9]-9999",integer:{alias:"integer"},decimal:{alias:"decimal",groupSeparator:".",radixPoint:",",removeMaskOnSubmit:!0},currency:{alias:"currency",prefix:"$ ",groupSeparator:".",radixPoint:",",placeholder:"0",removeMaskOnSubmit:!0}},inputs:{autocomplete:{emptyResult:"No items found.",clear:"Clear selected items"},datefilter:{from:"From",to:"To"}},date:{formats:{"default":"MM/DD/YYYY HH:mm",date:"MM/DD/YYYY"}},errors:{invalidAction:"Invalid action",inputSelect:{invalidOption:'Invalid format for select option. (Expected format: {name:"", value:""})'}}},"en"),Realize.i18n.registerLocale({"true":"Sim","false":"Não",ok:"Ok",loading:"Carregando...",select:"Selecione",actions:{"new":"Novo",send:"Enviar",filter:"Filtrar",clear:"Limpar",add:"Adicionar",update:"Atualizar",cancel:"Cancelar"},table:{emptyResult:"Nenhum resultado foi encontrado.",selection:{clear:"limpar seleção",selectAll:"selecionar todos os :count itens",select:{singular:"1 item selecionado",plural:":count itens selecionados"}}},masks:{date:{alias:"dd/mm/yyyy"},datetime:{mask:"d/m/y h:s",placeholder:"dd/mm/yyyy, hh:ss"},cpf:"999.999.999-99",cnpj:"99.999.999/9999-99",phone:"(99) 9999[9]-9999",integer:{alias:"integer"},decimal:{alias:"decimal",groupSeparator:".",radixPoint:",",removeMaskOnSubmit:!0},currency:{alias:"currency",prefix:"R$ ",groupSeparator:".",radixPoint:",",placeholder:"0",removeMaskOnSubmit:!0}},inputs:{autocomplete:{emptyResult:"Nenhum item foi encontrado.",clear:"Limpar itens selecionados"},datefilter:{from:"De",to:"Até"}},date:{formats:{"default":"DD/MM/YYYY HH:mm",date:"DD/MM/YYYY"}},errors:{invalidAction:"Ação inválida",inputSelect:{invalidOption:'Formato inválido de opção de select (Formato esperado: {name:"", value:""})'}}},"pt-BR"),Realize.themes={},Realize.themes.getCurrent=function(){var a=Realize.themes["default"],b=Realize.themes[Realize.config.theme];return $.extend({},a,b)},Realize.themes.getProp=function(a){if(!a)return"";var b=this.getCurrent();return Realize.utils.getProp(a,b)},Realize.themes.getCssClass=function(a){for(var b=a.split(" "),c="";b.length>0;){var d=b.shift(),e=d+".cssClass";c+=this.getProp(e)+" "}return c.trim()},Realize.themes["default"]={grid:{cssClass:"grid",row:{cssClass:"row"},filter:{wrapper:{cssClass:"grid__filter"},buttonGroup:{cssClass:"filter__button-group"},clearButton:{cssClass:"filter__button--clear"}},table:{cssClass:"",wrapper:{cssClass:"grid__table"},header:{cssClass:"table-header",label:{cssClass:"table-header__name"}},cell:{cssClass:"table-cell",text:{cssClass:"table-cell--text"},currency:{cssClass:"table-cell--currency"},number:{cssClass:"table-cell--number"},"boolean":{cssClass:"table-cell--boolean"},datetime:{cssClass:"table-cell--datetime"}}},pagination:{wrapper:{cssClass:"grid__pagination"}}},form:{cssClass:""},button:{cssClass:"",cancel:{cssClass:""}}},Realize.themes.materialize={grid:{cssClass:"grid row",filter:{wrapper:{cssClass:"grid__filter col s12"}},table:{cssClass:"grid__table col s12"},pagination:{cssClass:"grid__pagination col s12"}},table:{cssClass:"table striped",wrapper:{cssClass:"table-wrapper"},actions:{cssClass:"table__actions"},selectionIndicator:{cssClass:"table__selection-indicator"},header:{cssClass:"table-header",label:{cssClass:"table-header__name"}},select:{cssClass:"table-select"},row:{cssClass:"table-row",actions:{cssClass:"table-row__actions"}},cell:{cssClass:"table-cell"}},form:{cssClass:"form row",buttonGroup:{cssClass:"form__button-group col s12 m12 l12 right-align"},inputGroup:{cssClass:"form__input-group",section:{cssClass:"input-group__section"},divider:{cssClass:"input-group__divider"}}},gridForm:{cssClass:"grid-form"},input:{cssClass:"form__input input-field",grid:{"default":{cssClass:"col l6 m6 s12"},filter:{cssClass:"col l3 m4 s12"},oneLine:{cssClass:"col s12"}},error:{cssClass:"invalid",hint:{cssClass:"form__input-error"}},text:{cssClass:""},autocomplete:{cssClass:"input-autocomplete",result:{cssClass:"input-autocomplete__result z-depth-1"},list:{cssClass:"input-autocomplete__list"},option:{cssClass:"input-autocomplete__option",active:{cssClass:"active"}},select:{cssClass:"select-wrapper initialized"},actionButton:{cssClass:"button btn waves-effect waves-light black-text grey lighten-2"}},checkbox:{cssClass:""},"switch":{cssClass:"input-switch switch"},datefilter:{cssClass:"input-datefilter",select:{cssClass:"input-datefilter__select select-wrapper initialized"},body:{cssClass:"input-datefilter__body z-depth-1"}},datepicker:{cssClass:"datepicker"},select:{cssClass:""},textarea:{cssClass:"materialize-textarea"},file:{cssClass:"file-path",wrapper:{cssClass:"file-field"},filePathWrapper:{cssClass:"file-path-wrapper"},button:{cssClass:"button btn"}}},label:{cssClass:"label",active:{cssClass:"active"}},button:{cssClass:"button btn waves-effect waves-light",group:{cssClass:"button-group"},floating:{cssClass:"button button--floating btn-floating btn-large waves-effect waves-light"},flat:{cssClass:"button button--flat btn-flat waves-effect waves-grey"},iconOnly:{cssClass:"button--icon"},cancel:{cssClass:"button-cancel black-text grey lighten-4"},danger:{cssClass:"button-danger red lighten-1"}},pagination:{cssClass:"pagination",item:{cssClass:"waves-effect",disabled:{cssClass:"disabled"},active:{cssClass:"active"}}},flash:{cssClass:"flash card z-depth-0",content:{cssClass:"flash__content card-content"},dismiss:{cssClass:"flash__dismiss card-action"},info:{cssClass:"flash--info blue lighten-4",content:{cssClass:"blue-text darken-4"}},warning:{cssClass:"flash--warning amber lighten-4",content:{cssClass:"orange-text darken-4"}},error:{cssClass:"flash--error red lighten-4",content:{cssClass:"red-text darken-4"}},success:{cssClass:"flash--success green lighten-4",content:{cssClass:"green-text darken-4"}}},tabs:{cssClass:"tabs-container",tabButton:{cssClass:"tab",error:{cssClass:"tab--error red lighten-4"}}},header:{cssClass:"blue-grey darken-2"},modal:{cssClass:"card realize-modal",header:{cssClass:"card-content modal-header",withTitle:{cssClass:"with-title"}},content:{cssClass:"card-content modal-content"},footer:{cssClass:"card-content modal-footer",withSeparator:{cssClass:"with-separator"}}},icon:{cssClass:"material-icons",left:"chevron_left",right:"chevron_right",search:"search",calendar:"today",close:"clear",send:"send",add:"add",edit:"mode_edit",destroy:"delete"}};var FormActions=Reflux.createActions(["submit","success","error","reset"]),InputSelectActions=Reflux.createActions(["select","selectSearchValue"]),ModalActions=Reflux.createActions(["open","openFinished","close"]),FormStore=Reflux.createStore({listenables:[FormActions],formId:"",action:"",actionData:{},onSubmit:function(a,b,c){this.formId=a,this.action="submit",this.actionData={event:b,postData:c},this.trigger(this)},onSuccess:function(a,b,c,d){this.formId=a,this.action="success",this.actionData={responseData:b,status:c,xhr:d},this.trigger(this)},onError:function(a,b,c,d){this.formId=a,this.action="error",this.actionData={xhr:b,status:c,error:d},this.trigger(this)},onReset:function(a,b){this.formId=a,this.action="reset",this.actionData={event:b},this.trigger(this)}}),InputSelectStore=Reflux.createStore({listenables:[InputSelectActions],action:"",inputId:"",selectedOption:{},onSelect:function(a,b){this.action="Select",this.inputId=a,this.selectedOption=b,this.trigger(this)},onSelectSearchValue:function(a){this.action="SelectSearchValue",this.inputId=a,this.selectedOption={},this.trigger(this)}}),ModalStore=Reflux.createStore({listenables:[ModalActions],optionProps:["dismissible","opacity","inDuration","outDuration","ready","complete"],modalId:"",openerId:"",shouldOpen:!1,options:{},onOpen:function(a){this.modalId=a.modalId,this.openerId=a.openerId,this.shouldOpen=!0,this.shouldClose=!1,this.options=$.grep(a,function(a){return this.optionProps.indexOf(a)>0}.bind(this)),this.trigger(this)},onOpenFinished:function(){this.shouldOpen=!1,this.trigger(this)},onClose:function(a){this.modalId=a.modalId,this.shouldOpen=!1,this.shouldClose=!0,this.trigger(this)}}),ContainerMixin={propTypes:{forwardedProps:React.PropTypes.object},getDefaultProps:function(){return{forwardedProps:{}}},getChildren:function(){return this.cloneChildrenWithProps()},renderChildren:function(){return this.cloneChildrenWithProps()},filterChildren:function(a){var b=[];return React.Children.map(this.props.children,function(c){c&&c.type==a&&b.push(c)}),b},cloneChildrenWithProps:function(a){var b=this.buildPropsToForward();return a&&a.childrenType?React.Children.map(this.filterChildren(a.childrenType),function(a){var c=$.extend({},this.props.forwardedProps,b);return a&&a.type?React.cloneElement(a,$.extend({},c,this.buildChildPropsToKeep(a),{forwardedProps:c})):null}.bind(this)):React.Children.map(this.props.children,function(a){var c=$.extend({},this.props.forwardedProps,b);return a&&a.type?React.cloneElement(a,$.extend({},c,this.buildChildPropsToKeep(a),{forwardedProps:c})):null}.bind(this))},buildChildPropsToKeep:function(a){var b={},c=[];a.type.getDefaultProps&&(b=a.type.getDefaultProps()),$.isArray(a.props.ignoreForwarded)&&(c=a.props.ignoreForwarded);var d={};for(var e in a.props)(this.childPropValueIsNotDefault(a.props[e],b[e])||this.shouldKeepChildPropValueAnyway(e,c))&&(d[e]=a.props[e]);return d},childPropValueIsNotDefault:function(a,b){return!_.isEqual(a,b)},shouldKeepChildPropValueAnyway:function(a,b){return b.indexOf(a)>=0},buildPropsToForward:function(){for(var a=this.propsToForward?this.propsToForward():[],b=this.propsToForwardMapping?this.propsToForwardMapping():{},c={},d=0;d<a.length;d++){var e=a[d];c[e]=this.props[e]}return $.extend(c,b)}},CssClassMixin={propTypes:{clearTheme:React.PropTypes.bool,className:React.PropTypes.string,themeClassKey:React.PropTypes.string},getDefaultProps:function(){return{clearTheme:!1}},themedClassName:function a(b,c){var a="";return!this.props.clearTheme&&b&&(a+=Realize.themes.getCssClass(b)),c&&(a+=" "+c),a},className:function b(){var a=this.getThemeClassKey(),b=this.props.className;return this.themedClassName(a,b)},getThemeClassKey:function(){var a=this.props.themeClassKey;return this.state&&this.state.themeClassKey&&(a=this.state.themeClassKey),a},propsWithoutCSS:function(){var a=["className","themeClassKey"],b=$.extend({},this.props);return $.each(a,function(a,c){delete b[c]}.bind(this)),b}},FormActionsListenerMixin={propTypes:{onFormSubmit:React.PropTypes.func,onFormSuccess:React.PropTypes.func,onFormError:React.PropTypes.func,onFormReset:React.PropTypes.func},getDefaultProps:function(){return{onFormSubmit:null,onFormSuccess:null,onFormError:null,onFormReset:null}},getInitialState:function(){return{formState:null}},componentDidMount:function(){FormStore.listen(this.formActionListener)},formActionListener:function(a){try{this.executePropListener(a)}catch(b){this.executeComponentListener(a)}},executePropListener:function(a){var b=a.action,c="onForm"+S(b).capitalize().s,d=this.props[c];if("function"!=typeof d)throw"Prop form listener not defined";d.apply(this,this.formActionParameters(a))},executeComponentListener:function(a){var b=a.action,c="handleForm"+S(b).capitalize().s,d=this[c];"function"==typeof d&&d.apply(this,this.formActionParameters(a))},formActionParameters:function c(a){var b=a.actionData,d=a.formId,c=$.map(b,function(a,b){return[a]});return c.unshift(d),c}},FormContainerMixin={propTypes:{errors:React.PropTypes.object,errorThemeClassKey:React.PropTypes.string},getDefaultProps:function(){return{errors:{}}},formContainerClassName:function(){var a=this.className();return this.inputChildrenHaveErrors()&&(a+=" "+Realize.themes.getCssClass(this.props.errorThemeClassKey)),a},inputChildrenHaveErrors:function(){var a=$.map(this.props.errors,function(a,b){return b});return this.checkInputChildrenForErrors(a,this.props.children)},checkInputChildrenForErrors:function(a,b){var c=!1;return React.Children.forEach(b,function(b){return b.type==Input&&$.inArray(b.props.id,a)>=0?c=!0:b.type==InputGroup?c=this.checkInputGroupForErrors(a,b):React.Children.count(b.children)>0&&(c=this.checkInputChildrenForErrors(a,b.children)),c?!1:void 0}.bind(this)),c},checkInputGroupForErrors:function(a,b){var c=!1,d=$.map(b.props.inputs,function(a){return a.id});return $.each(d,function(b,d){return $.inArray(d,a)>=0?(c=!0,!1):void 0}),c}},FormErrorHandlerMixin={propTypes:{errorMessage:React.PropTypes.string,baseErrorParam:React.PropTypes.string,onError:React.PropTypes.func,mapping:React.PropTypes.bool},getDefaultProps:function(){return{errorMessage:"Por favor, verifique o(s) erro(s) abaixo.",baseErrorParam:"base",onError:function(a,b,c){return!0},mapping:!0}},getInitialState:function(){return{errors:{}}},renderFlashErrors:function(){return $.isEmptyObject(this.state.errors)?"":React.createElement(Flash,{type:"error",message:this.flashErrorMessage(),dismissed:!1})},clearErrors:function(){this.setState({errors:{}})},handleError:function(a,b,c){this.setState({isLoading:!1}),FormActions.error(this.props.id,a,b,c),this.props.onError(a,b,c)&&422===a.status&&this.handleValidationError(a)},handleValidationError:function(a){this.setState({errors:this.getMappingErrors(a.responseText)})},getMappingErrors:function(a){var b=JSON.parse(a);if(this.props.mapping){var c={};for(var d in b){var e=d.split(".").pop();c[e]=b[d]}return c}return b},flashErrorMessage:function(){return React.createElement("div",null,this.props.errorMessage,this.baseErrorsList())},baseErrorsList:function(){var a=this.state.errors[this.props.baseErrorParam],b=[];if(!a)return"";for(var c=0;c<a.length;c++){var d=a[c];b.push(React.createElement("li",{key:d},d))}return React.createElement("ul",null,b)}},FormSuccessHandlerMixin={propTypes:{onSuccess:React.PropTypes.func,successMessage:React.PropTypes.string},getDefaultProps:function(){return{onSuccess:function(a,b,c){return!0},successMessage:""}},getInitialState:function(){return{showSuccessFlash:!1}},renderFlashSuccess:function(){return this.state.showSuccessFlash?React.createElement(Flash,{type:"success",message:this.props.successMessage,dismissed:!1}):""},handleSuccess:function handleSuccess(data,status,xhr){var showSuccessFlash=!!this.props.successMessage&&this.props.successMessage.length>0;this.setState({isLoading:!1,errors:{},showSuccessFlash:showSuccessFlash}),FormActions.success(this.props.id,data,status,xhr),this.props.onSuccess(data,status,xhr)&&xhr.getResponseHeader("Content-Type").match(/text\/javascript/)&&eval(data)}},GridActionsMixin={propTypes:{actionButtons:React.PropTypes.object,rowHref:React.PropTypes.string,haveShowAction:React.PropTypes.bool},getDefaultProps:function(){return{actionButtons:null,rowHref:null,haveShowAction:!1}},getRowHref:function(){var a=this.props.rowHref,b=this.props.haveShowAction;return!b||a&&"string"==typeof a?a:this.getRestActionUrl("show")},getActionButtons:function(){var a=this.props.actionButtons||{};return a.member||(a.member=this.getDefaultMemberActionButtons()),a.collection||(a.collection=this.getDefaultCollectionActionButtons()),a},getMemberActionButtons:function(){return $.isPlainObject(this.props.actionButtons)&&this.props.actionButtons.member?this.props.actionButtons.member:this.getDefaultMemberActionButtons()},getDefaultMemberActionButtons:function(){var a=[{icon:"edit",href:this.getRestActionUrl("edit")},{icon:"destroy",method:this.getRestActionMethod("destroy"),actionUrl:this.getRestActionUrl("destroy"),confirmsWith:this.props.destroyConfirm}];return this.props.haveShowAction&&a.unshift({icon:"search",href:this.getRestActionUrl("show")}),a},getCollectionActionButtons:function(){return $.isPlainObject(this.props.actionButtons)&&this.props.actionButtons.collection?this.props.actionButtons.collection:this.getDefaultCollectionActionButtons()},getDefaultCollectionActionButtons:function(){return[{name:"actions.new",context:"none",href:this.getRestActionUrl("add")}]}},CheckboxComponentMixin={propTypes:{checked:React.PropTypes.bool,renderAsIndeterminate:React.PropTypes.bool},getDefaultProps:function(){return{renderAsIndeterminate:!1}},getInitialState:function(){return{checked:this.getInitialChecked()}},componentDidMount:function(){var a=ReactDOM.findDOMNode(this.refs.input);a.indeterminate=this.props.renderAsIndeterminate;var b=$(a.form);b.on("reset",this._handleCheckboxReset)},componentWillUnmount:function(){var a=ReactDOM.findDOMNode(this.refs.input),b=$(a.form);b.off("reset",this._handleCheckboxReset)},valueIsBoolean:function(){var a=this.props.value;return"boolean"==typeof a||0===a||1===a},getInitialChecked:function(){var a=this.props.checked;return null!==a&&void 0!==this.props.checked?a:this.valueIsBoolean()?!!this.props.value:!1},_handleCheckboxReset:function(a){this.isMounted()&&this.setState({checked:this.getInitialChecked()})},_handleCheckboxChange:function(a){if(this.props.onChange(a),!a.isDefaultPrevented()){var b={checked:a.target.checked};this.valueIsBoolean()&&(b.value=a.target.checked),this.setState(b)}}},InputComponentMixin={propTypes:{id:React.PropTypes.string,name:React.PropTypes.string,value:React.PropTypes.node,disabled:React.PropTypes.bool,readOnly:React.PropTypes.bool,placeholder:Realize.PropTypes.localizedString,errors:React.PropTypes.node,onChange:React.PropTypes.func,onFocus:React.PropTypes.func},getDefaultProps:function(){return{value:null,disabled:!1,readOnly:!1,onChange:function(a){return!0},onFocus:function(a){return!0},errors:[]}},getInitialState:function(){return{value:this.props.value}},componentDidMount:function(){var a=$(this.getInputFormNode());a.on("reset",this._handleReset)},componentWillUnmount:function(){var a=$(this.getInputFormNode());a.off("reset",this._handleReset)},getInputFormNode:function(){var a=this.refs.input;return a?ReactDOM.findDOMNode(a).form:null},_handleReset:function(a){this.isMounted()&&!this.inputNodeIsCheckbox()&&this.setState({value:""})},_handleChange:function(a){if(this.props.onChange(a),!a.isDefaultPrevented()){var b=a.target.value;this.setState({value:b})}},_handleFocus:function(a){if(this.props.onFocus(a),this.props.readOnly){var b=a.currentTarget;b.blur()}},inputClassName:function(){var a=this.className(),b=this.props.errors;return b&&b.length>0&&(a+=" "+Realize.themes.getCssClass("input.error")),a},getPlaceholder:function(){var a=Realize.t(this.props.placeholder);return"string"!=typeof a||0===a.length?null:a},inputNodeIsCheckbox:function(){var a=ReactDOM.findDOMNode(this.refs.input);return!!a&&"checkbox"===a.type}},InputSelectActionsListenerMixin={componentDidMount:function(){InputSelectStore.listen(this.inputSelectActionListener)},inputSelectActionListener:function(a){var b=a.inputId;if(this.isChangedInput(b)){var c=a.action,d="handle"+c+"Action";this[d](a)}},isChangedInput:function(a){var b=this.props.originalId,c=this.props.id;return!!b&&b==a||!!c&&c==a},handleSelectAction:function(a){var b=a.selectedOption;this.validateSelectedOption(b),this.setState({optionsCache:this.cacheSelectedOption(b),value:[b.value]})},handleSelectSearchValueAction:function(a){var b=this.state.searchValue;if("string"!=typeof b)throw new Error(Realize.t("errors.invalidAction"));a.selectedOption={name:b,value:b},this.handleSelectAction(a),"function"==typeof this.hideResult&&this.hideResult()},validateSelectedOption:function(a){if("object"!=("undefined"==typeof a?"undefined":_typeof(a))||!a.name||!a.value)throw new Error(Realize.t("errors.inputSelect.invalidOption"))},cacheSelectedOption:function(a){return"function"==typeof this.cacheOptions?this.cacheOptions([a]):this.state.optionsCache}},MaterializeSelectMixin={componentDidMount:function(){this.applyMaterialize(!0)},componentDidUpdate:function(a,b){this.state.options!=b.options&&this.applyMaterialize()},applyMaterialize:function(a){var b=ReactDOM.findDOMNode(this.refs.select);$(b).material_select(this.handleChangeMaterialize.bind(this,b)),a||this.handleChangeMaterialize(b)},handleChangeMaterialize:function(a){var b=$(a),c={currentTarget:a};this.props.onChange(c),b.parent().parent().find("> .caret").remove(),this.setState({value:this.ensureIsArray(a.value)},this.triggerDependableChanged)}},SelectComponentMixin={propTypes:{options:React.PropTypes.array,dependsOn:React.PropTypes.object,optionsUrl:React.PropTypes.string,optionsParam:React.PropTypes.string,nameField:React.PropTypes.string,valueField:React.PropTypes.string,multiple:React.PropTypes.bool,onLoad:React.PropTypes.func,onLoadError:React.PropTypes.func,onSelect:React.PropTypes.func},getDefaultProps:function(){return{dependsOn:null,optionsParam:null,nameField:"name",valueField:"id",options:[],multiple:!1,onSelect:null,onLoad:function(a){return!0},onLoadError:function(a,b,c){console.log("Select Load error:"+c)}}},getInitialState:function(){return{options:this.props.options,optionsCache:this.props.options,disabled:this.props.disabled,mustDisable:!1,loadParams:{},loadData:[]}},componentWillMount:function(){this.state.value=this.ensureIsArray(this.state.value),this.props.dependsOn&&(this.state.mustDisable=!0)},componentDidMount:function(){this.props.optionsUrl&&(this.props.dependsOn?(this.listenToDependableChange(),this.loadDependentOptions()):this.loadOptions()),this.state.value.length>0&&this.triggerDependableChanged()},componentWillUnmount:function(){this.props.dependsOn&&this.unbindDependableChangeListener()},ensureIsArray:function(a){return null===a||void 0===a||0===a.length?a=[]:$.isArray(a)||(a=[a]),a},selectedOptions:function d(){var d=[];return $.each(this.state.optionsCache,function(a,b){this.state.value.indexOf(b.value)>=0&&d.push(b)}.bind(this)),d},loadOptions:function(){$.ajax({url:this.props.optionsUrl,method:"GET",dataType:"json",data:this.state.loadParams,success:this.handleLoad,error:this.onLoadError})},handleLoad:function(a){var b=[],c=this.props.optionsParam;c&&(a=a[c]);for(var d=0;d<a.length;d++){var e=a[d],f={name:String(e[this.props.nameField]),value:e[this.props.valueField]};b.push(f)}this.setState({loadData:a,options:b,optionsCache:this.cacheOptions(b),mustDisable:!!this.props.dependsOn&&b.length<=0},this.triggerDependableChanged),this.props.onLoad(a)},cacheOptions:function(a){var b=a.slice(0),c=$.map(b,function(a){return a.value});return $.each(this.state.optionsCache,function(a,d){var e=d.value;c.indexOf(e)<0&&b.push(d)}),b},listenToDependableChange:function(){var a=this.props.dependsOn.dependableId;a=a.replace(/(:|\.|\[|]|,)/g,"\\$1"),$("body").delegate("#"+a,"dependable_changed",this.onDependableChange)},unbindDependableChangeListener:function(){var a=this.props.dependsOn.dependableId;a=a.replace(/(:|\.|\[|]|,)/g,"\\$1"),$("body").undelegate("#"+a,"dependable_changed",this.onDependableChange)},onDependableChange:function(a,b){this.loadDependentOptions(b)},loadDependentOptions:function(a){if(a||(a=this.getDependableNode().val()),!a||0===a.length)return this.emptyAndDisable(),!1;$.isArray(a)&&1==a.length&&(a=a[0]);var b=this.props.dependsOn,c=b.param||b.dependableId;this.state.loadParams[c]=a,this.loadOptions()},getDependableNode:function(){var a=this.props.dependsOn;return $(document.getElementById(a.dependableId))},triggerDependableChanged:function(){var a=$(ReactDOM.findDOMNode(this.refs.select)),b=this.state.value;a.trigger("dependable_changed",[b])},emptyAndDisable:function(){this.setState({options:[],optionsCache:[],mustDisable:!0})},isDisabled:function(){return this.state.disabled||this.state.mustDisable}},LocalizedResourceFieldMixin={propTypes:{resource:React.PropTypes.string,name:React.PropTypes.string},localizeResourceField:function(a,b){if(a||(a=this.props.name),b||(b=this.props.resource),void 0===a||void 0===b)return"";try{var c="resources."+b+".fields."+a;return Realize.t(c,!0)}catch(d){c="resources.defaults.fields."+a;try{return Realize.t(c,!0)}catch(d){return a}}}},ModalRendererMixin={propTypes:{modalContainerId:React.PropTypes.string},getDefaultProps:function(){return{modalContainerId:"modal-container"}},renderModalHtml:function(a){var b=this.props.modalContainerId,c=$("#"+b);0===c.length&&(c=$("<div id='"+b+"'></div>"),$("body").append(c)),c.html(a)}},RequestHandlerMixin={propTypes:{onRequest:React.PropTypes.func,onSuccess:React.PropTypes.func,onError:React.PropTypes.func,onComplete:React.PropTypes.func},current_xhr:null,getDefaultProps:function(){return{onRequest:function(a,b){},onSuccess:function(a,b,c){return!0},onError:function(a,b,c){return!0},onComplete:function(a,b){return!0}}},getInitialState:function(){return{isLoading:!1}},performRequest:function(a,b,c,d){var e={url:a,data:b||{},method:c||"GET",success:this.successCallback,error:this.errorCallback,complete:this.completeCallback};d&&(e.dataType=d),this.cancelPendingRequest(),this.requestCallback(b,a),this.current_xhr=$.ajax(e)},cancelPendingRequest:function(){null!==this.current_xhr&&this.current_xhr.readyState<4&&this.current_xhr.abort()},requestCallback:function(a,b){this.setState({isLoading:!0}),this.executeCallback("onRequest",a,b)},successCallback:function(a,b,c){this.executeCallback("onSuccess",a,b,c)&&this.handleSuccess(a,b,c)},errorCallback:function(a,b,c){"abort"!==c&&this.executeCallback("onError",a,b,c)},completeCallback:function(a,b){this.setState({isLoading:!1}),this.executeCallback("onComplete",a,b)},executeCallback:function(a){var b=Array.prototype.slice.call(arguments,1),c=this[a],d=this.props[a];"function"==typeof c?c.apply(this,b):d.apply(this,b)},handleSuccess:function(a,b,c){var d=c.getResponseHeader("Content-Type");d.match(/text\/javascript/)?this.handleJsResponse(a):d.match(/text\/html/)&&this.handleHtmlResponse(a)},handleJsResponse:function handleJsResponse(responseJs){eval(responseJs)},handleHtmlResponse:function(a){}},RestActionsMixin={propTypes:{actionUrls:React.PropTypes.object,actionMethods:React.PropTypes.object,destroyConfirm:React.PropTypes.node},getDefaultProps:function(){return{actionUrls:null,actionMethods:null,destroyConfirm:"Tem certeza que deseja remover este item?"}},getRestActionUrl:function(a,b){var c=this.props.actionUrls||Realize.config.restUrls,d=c[a];return d=d.replace(/:url/,this.props.url),b&&(d=d.replace(/:id/,b)),d},getRestActionMethod:function(a){var b=this.props.actionMethods||Realize.config.restMethods;return b[a]}},UtilsMixin={generateUUID:function(){var a=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=(a+16*Math.random())%16|0;return a=Math.floor(a/16),("x"==b?c:3&c|8).toString(16)})}},TableSelectCell=React.createClass({displayName:"TableSelectCell",mixins:[CssClassMixin,UtilsMixin],propTypes:{rowId:React.PropTypes.string,cellElement:React.PropTypes.string,dataRowIds:React.PropTypes.array,selected:React.PropTypes.bool,onSelectToggle:React.PropTypes.func},getDefaultProps:function(){return{themeClassKey:"table.select",rowId:"",cellElement:"td",dataRowIds:[],selected:!1,onSelectToggle:function(a,b,c){}}},render:function(){return React.createElement(this.props.cellElement,{className:this.className()},[React.createElement(InputCheckbox,{id:this.getCheckboxId(),checked:this.props.selected,key:this.generateUUID()}),React.createElement(Label,{id:this.getCheckboxId(),key:"label",onClick:this.handleChange})])},getCheckboxId:function(){return"select_"+String(this.props.rowId)},handleChange:function(a){this.props.onSelectToggle(a,this.props.dataRowIds,!this.props.selected)},handleClick:function(a){a.stopPropagation()}}),TableSelectionIndicator=React.createClass({displayName:"TableSelectionIndicator",mixins:[CssClassMixin],propTypes:{dataRows:React.PropTypes.array,selectedRowIds:React.PropTypes.array,actionButtons:React.PropTypes.array,message:React.PropTypes.object,removeSelectionButtonName:Realize.PropTypes.localizedString,selectAllButtonName:Realize.PropTypes.localizedString,allSelected:React.PropTypes.bool,count:React.PropTypes.number,onRemoveSelection:React.PropTypes.func,onSelectAll:React.PropTypes.func,rowSelectableFilter:React.PropTypes.func,forceShowSelectAllButton:React.PropTypes.bool},getDefaultProps:function(){return{themeClassKey:"table.selectionIndicator",dataRows:[],selectedRowIds:[],actionButtons:[],message:{plural:"table.selection.select.plural",singular:"table.selection.select.singular"},removeSelectionButtonName:"table.selection.clear",selectAllButtonName:"table.selection.selectAll",allSelected:!1,rowSelectableFilter:null,forceShowSelectAllButton:!1,onRemoveSelection:function(a){},onSelectAll:function(a){}}},render:function(){return React.createElement("div",{className:this.className()},React.createElement("span",null,this.renderMessage())," ",this.renderActions())},renderMessage:function(){var a=this.getSelectionCount();if(0===a)return"";if(1===a)return Realize.t(this.props.message.singular);var b=Realize.t(this.props.message.plural);return b.replace(/:count/,a)},renderActions:function(){var a=this.getSelectionCount();return 0===a?"":React.createElement("span",null,"(",this.renderRemoveSelectionButton(),this.renderSelectAllButton(),")")},renderRemoveSelectionButton:function(){return React.createElement("a",{href:"#!",onClick:this.props.onRemoveSelection},Realize.t(this.props.removeSelectionButtonName))},renderSelectAllButton:function(){return"function"!=typeof this.props.rowSelectableFilter&&!this.props.allSelected||this.props.forceShowSelectAllButton?React.createElement("span",null," | ",React.createElement("a",{href:"#!",onClick:this.props.onSelectAll},this.getSelectAllButtonName())):""},getSelectionCount:function(){return this.props.allSelected&&this.props.count?this.props.count:this.props.selectedRowIds.length},getSelectAllButtonName:function(){var a=Realize.t(this.props.selectAllButtonName),b=this.props.count||this.props.dataRows.length;return a.replace(/:count/,b)}}),Tab=React.createClass({displayName:"Tab",mixins:[CssClassMixin,ContainerMixin],propTypes:{id:React.PropTypes.string
},render:function(){return React.createElement("div",{id:this.props.id,className:this.className()},this.renderChildren())}}),TabButton=React.createClass({displayName:"TabButton",mixins:[CssClassMixin,ContainerMixin,FormContainerMixin],propTypes:{id:React.PropTypes.string,title:React.PropTypes.string,active:React.PropTypes.bool},getDefaultProps:function(){return{themeClassKey:"tabs.tabButton",errorThemeClassKey:"tabs.tabButton.error",className:"s1",active:!1}},render:function(){return React.createElement("li",{className:this.formContainerClassName()},React.createElement("a",{href:"#"+this.props.id,className:this.props.active?"active":""},this.props.title))}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},Tabs=React.createClass({displayName:"Tabs",mixins:[CssClassMixin,ContainerMixin],propTypes:{themeClassKey:React.PropTypes.string,className:React.PropTypes.string,activeTab:React.PropTypes.number},getDefaultProps:function(){return{themeClassKey:"tabs",activeTab:1}},componentDidMount:function(){$(ReactDOM.findDOMNode(this.refs.tabsContainer)).tabs()},render:function(){return React.createElement("div",{className:this.className()},React.createElement("ul",{className:"tabs z-depth-1",ref:"tabsContainer"},this.renderTabButtons()),React.createElement("div",null,this.renderChildren()))},renderTabButtons:function(){var a=[],b=this.getChildren();return React.Children.forEach(b,function(b,c){var d=c===this.props.activeTab-1;a.push(React.createElement(TabButton,_extends({},b.props,{active:d,key:"tab_"+c})))}.bind(this)),a}});