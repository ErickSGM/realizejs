/*!
 * Realize v0.7.28 (http://www.wkm.com.br)
 * Copyright 2015-2016 
 */
"use strict";function _typeof(a){return a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a}function _typeof(a){return a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a}var Realize={};Realize.config={theme:"materialize",locale:"en",restUrls:{index:":url",show:":url/:id",add:":url/new",create:":url",edit:":url/:id/edit",update:":url/:id",destroy:":url/:id"},restMethods:{index:"GET",show:"GET",add:"GET",create:"POST",edit:"GET",update:"PUT",destroy:"DELETE"},grid:{pagination:{param:"p",perPageParam:"per_page",perPage:20,window:4,type:"default",perPageOptions:[{name:"10",value:10},{name:"20",value:20},{name:"50",value:50}]},sort:{param:"s",directionParam:"s_dir",fieldValueFormat:"%{field}"}}},Realize.setConfig=function(a){$.extend(!0,Realize.config,a)},$.extend(FormSerializer.patterns,{validate:/^[a-z_][a-z0-9#_\.-]*(?:\[(?:\d*|[a-z0-9#_\.-]+)\])*$/i,key:/[a-z0-9#_\.-]+|(?=\[\])/gi,named:/^[a-z0-9#_\.-]+$/i}),Realize.utils={},Realize.utils.getProp=function(a,b){var c=a.split("."),d=b;try{for(;c.length>0;)d=d[c.shift()]}catch(e){return""}return d},Realize.PropTypes={},Realize.PropTypes.localizedString=function(a,b,c){var d=a[b];if(null===d||void 0===d||"string"==typeof d&&0===d.length)return null;var e=Realize.t(d);return"string"!=typeof d||"string"!=typeof e||0===e.length?new Error("Property "+b+" from "+c+" is not a localized string."):void 0},Realize.i18n={},Realize.i18n.locales={},Realize.i18n.registerLocale=function(a,b){if(!$.isPlainObject(a))throw"Invalid Locale Object.";if(!b)throw"Invalid Locale Name.";var c=Realize.i18n.locales[b]||{};Realize.i18n.locales[b]=$.extend({},c,a)},Realize.i18n.setLocale=function(a){Realize.config.locale=a},Realize.i18n.translate=function(a,b){if(void 0===b&&(b=!1),"string"!=typeof a){if(b)throw"Key is not a string";return""}var c=Realize.config.locale,d=Realize.i18n.locales[c],e=Realize.utils.getProp(a,d);if(!e){if(b)throw"Key not found in locale object";e=a}return e},Realize.t=Realize.i18n.translate,Realize.i18n.registerLocale({"true":"Yes","false":"No",ok:"Ok",loading:"Loading...",select:"Select",actions:{"new":"New",send:"Send",filter:"Filter",clear:"Clear",add:"Add",update:"Update",cancel:"Cancel"},table:{emptyResult:"No results found.",selection:{clear:"clear selection",selectAll:"select all :count items",select:{singular:"1 item selected",plural:":count items selected"}}},masks:{date:{alias:"mm/dd/yyyy"},datetime:{mask:"m/d/y h:s",placeholder:"mm/dd/yyyy, hh:ss"},cpf:"999.999.999-99",cnpj:"99.999.999/9999-99",phone:"(99) 9999[9]-9999",integer:{alias:"integer"},decimal:{alias:"decimal",groupSeparator:".",radixPoint:",",removeMaskOnSubmit:!0},currency:{alias:"currency",prefix:"$ ",groupSeparator:".",radixPoint:",",placeholder:"0",removeMaskOnSubmit:!0}},inputs:{autocomplete:{emptyResult:"No items found.",clear:"Clear selected items"},datefilter:{from:"From",to:"To"},file:{buttonName:"File"}},date:{formats:{"default":"MM/DD/YYYY HH:mm",date:"MM/DD/YYYY"}},errors:{invalidAction:"Invalid action",inputSelect:{invalidOption:'Invalid format for select option. (Expected format: {name:"", value:""})'}}},"en"),Realize.i18n.registerLocale({"true":"Sim","false":"Não",ok:"Ok",loading:"Carregando...",select:"Selecione",actions:{"new":"Novo",send:"Enviar",filter:"Filtrar",clear:"Limpar",add:"Adicionar",update:"Atualizar",cancel:"Cancelar"},table:{emptyResult:"Nenhum resultado foi encontrado.",selection:{clear:"limpar seleção",selectAll:"selecionar todos os :count itens",select:{singular:"1 item selecionado",plural:":count itens selecionados"}}},masks:{date:{alias:"dd/mm/yyyy"},datetime:{mask:"d/m/y h:s",placeholder:"dd/mm/yyyy, hh:ss"},cpf:"999.999.999-99",cnpj:"99.999.999/9999-99",phone:"(99) 9999[9]-9999",integer:{alias:"integer"},decimal:{alias:"decimal",groupSeparator:".",radixPoint:",",removeMaskOnSubmit:!0},currency:{alias:"currency",prefix:"R$ ",groupSeparator:".",radixPoint:",",placeholder:"0",removeMaskOnSubmit:!0}},inputs:{autocomplete:{emptyResult:"Nenhum item foi encontrado.",clear:"Limpar itens selecionados"},datefilter:{from:"De",to:"Até"},file:{buttonName:"Arquivo"}},date:{formats:{"default":"DD/MM/YYYY HH:mm",date:"DD/MM/YYYY"}},errors:{invalidAction:"Ação inválida",inputSelect:{invalidOption:'Formato inválido de opção de select (Formato esperado: {name:"", value:""})'}}},"pt-BR"),Realize.themes={},Realize.themes.getCurrent=function(){var a=Realize.themes["default"],b=Realize.themes[Realize.config.theme];return $.extend({},a,b)},Realize.themes.getProp=function(a){if(!a)return"";var b=this.getCurrent();return Realize.utils.getProp(a,b)},Realize.themes.getCssClass=function(a){for(var b=a.split(" "),c="";b.length>0;){var d=b.shift(),e=d+".cssClass";c+=this.getProp(e)+" "}return c.trim()},Realize.themes["default"]={grid:{cssClass:"grid",row:{cssClass:"row"},filter:{wrapper:{cssClass:"grid__filter"},buttonGroup:{cssClass:"filter__button-group"},clearButton:{cssClass:"filter__button--clear"}},table:{cssClass:"",wrapper:{cssClass:"grid__table"},header:{cssClass:"table-header",label:{cssClass:"table-header__name"}},cell:{cssClass:"table-cell",text:{cssClass:"table-cell--text"},currency:{cssClass:"table-cell--currency"},number:{cssClass:"table-cell--number"},"boolean":{cssClass:"table-cell--boolean"},datetime:{cssClass:"table-cell--datetime"}}},pagination:{wrapper:{cssClass:"grid__pagination"}}},form:{cssClass:""},button:{cssClass:"",cancel:{cssClass:""}}},Realize.themes.materialize={grid:{cssClass:"grid row",filter:{wrapper:{cssClass:"grid__filter col s12"}},table:{cssClass:"grid__table col s12"},pagination:{cssClass:"grid__pagination col s12"}},table:{cssClass:"table striped",wrapper:{cssClass:"table-wrapper"},actions:{cssClass:"table__actions"},selectionIndicator:{cssClass:"table__selection-indicator"},header:{cssClass:"table-header",label:{cssClass:"table-header__name"}},select:{cssClass:"table-select"},row:{cssClass:"table-row",actions:{cssClass:"table-row__actions"}},cell:{cssClass:"table-cell"}},form:{cssClass:"form row",buttonGroup:{cssClass:"form__button-group col s12 m12 l12 right-align"},inputGroup:{cssClass:"form__input-group",section:{cssClass:"input-group__section"},divider:{cssClass:"input-group__divider"}}},gridForm:{cssClass:"grid-form"},input:{cssClass:"form__input input-field",grid:{"default":{cssClass:"col l6 m6 s12"},filter:{cssClass:"col l3 m4 s12"},oneLine:{cssClass:"col s12"}},error:{cssClass:"invalid",hint:{cssClass:"form__input-error"}},text:{cssClass:""},autocomplete:{cssClass:"input-autocomplete",result:{cssClass:"input-autocomplete__result z-depth-1"},list:{cssClass:"input-autocomplete__list"},option:{cssClass:"input-autocomplete__option",active:{cssClass:"active"}},select:{cssClass:"select-wrapper initialized"},actionButton:{cssClass:"button btn waves-effect waves-light black-text grey lighten-2"}},checkbox:{cssClass:""},"switch":{cssClass:"input-switch switch"},datefilter:{cssClass:"input-datefilter",select:{cssClass:"input-datefilter__select select-wrapper initialized"},body:{cssClass:"input-datefilter__body z-depth-1"}},datepicker:{cssClass:"datepicker"},select:{cssClass:""},textarea:{cssClass:"materialize-textarea"},file:{cssClass:"file-path",wrapper:{cssClass:"file-field"},filePathWrapper:{cssClass:"file-path-wrapper"},button:{cssClass:"button btn"}}},label:{cssClass:"label",active:{cssClass:"active"}},button:{cssClass:"button btn waves-effect waves-light",group:{cssClass:"button-group"},floating:{cssClass:"button button--floating btn-floating btn-large waves-effect waves-light"},flat:{cssClass:"button button--flat btn-flat waves-effect waves-grey"},iconOnly:{cssClass:"button--icon"},cancel:{cssClass:"button-cancel black-text grey lighten-4"},danger:{cssClass:"button-danger red lighten-1"}},pagination:{cssClass:"pagination",item:{cssClass:"waves-effect",disabled:{cssClass:"disabled"},active:{cssClass:"active"}}},flash:{cssClass:"flash card z-depth-0",content:{cssClass:"flash__content card-content"},dismiss:{cssClass:"flash__dismiss card-action"},info:{cssClass:"flash--info blue lighten-4",content:{cssClass:"blue-text darken-4"}},warning:{cssClass:"flash--warning amber lighten-4",content:{cssClass:"orange-text darken-4"}},error:{cssClass:"flash--error red lighten-4",content:{cssClass:"red-text darken-4"}},success:{cssClass:"flash--success green lighten-4",content:{cssClass:"green-text darken-4"}}},tabs:{cssClass:"tabs-container",tabButton:{cssClass:"tab",error:{cssClass:"tab--error red lighten-4"}}},header:{cssClass:"blue-grey darken-2"},sidenav:{button:{cssClass:"sidenav__button"}},modal:{cssClass:"card realize-modal",header:{cssClass:"card-content modal-header",withTitle:{cssClass:"with-title"}},content:{cssClass:"card-content modal-content"},footer:{cssClass:"card-content modal-footer",withSeparator:{cssClass:"with-separator"}}},icon:{cssClass:"material-icons",left:"chevron_left",right:"chevron_right",search:"search",calendar:"today",close:"clear",send:"send",add:"add",edit:"mode_edit",destroy:"delete"}};var FormActions=Reflux.createActions(["submit","success","error","reset"]),InputSelectActions=Reflux.createActions(["select","selectSearchValue"]),ModalActions=Reflux.createActions(["open","openFinished","close"]),FormStore=Reflux.createStore({listenables:[FormActions],formId:"",action:"",actionData:{},onSubmit:function(a,b,c){this.formId=a,this.action="submit",this.actionData={event:b,postData:c},this.trigger(this)},onSuccess:function(a,b,c,d){this.formId=a,this.action="success",this.actionData={responseData:b,status:c,xhr:d},this.trigger(this)},onError:function(a,b,c,d){this.formId=a,this.action="error",this.actionData={xhr:b,status:c,error:d},this.trigger(this)},onReset:function(a,b){this.formId=a,this.action="reset",this.actionData={event:b},this.trigger(this)}}),InputSelectStore=Reflux.createStore({listenables:[InputSelectActions],action:"",inputId:"",selectedOption:{},onSelect:function(a,b){this.action="Select",this.inputId=a,this.selectedOption=b,this.trigger(this)},onSelectSearchValue:function(a){this.action="SelectSearchValue",this.inputId=a,this.selectedOption={},this.trigger(this)}}),ModalStore=Reflux.createStore({listenables:[ModalActions],optionProps:["dismissible","opacity","inDuration","outDuration","ready","complete"],modalId:"",openerId:"",shouldOpen:!1,options:{},onOpen:function(a){this.modalId=a.modalId,this.openerId=a.openerId,this.shouldOpen=!0,this.shouldClose=!1,this.options=$.grep(a,function(a){return this.optionProps.indexOf(a)>0}.bind(this)),this.trigger(this)},onOpenFinished:function(){this.shouldOpen=!1,this.trigger(this)},onClose:function(a){this.modalId=a.modalId,this.shouldOpen=!1,this.shouldClose=!0,this.trigger(this)}}),ContainerMixin={propTypes:{forwardedProps:React.PropTypes.object},getDefaultProps:function(){return{forwardedProps:{}}},getChildren:function(){return this.cloneChildrenWithProps()},renderChildren:function(){return this.cloneChildrenWithProps()},filterChildren:function(a){var b=[];return React.Children.map(this.props.children,function(c){c&&c.type==a&&b.push(c)}),b},cloneChildrenWithProps:function(a){var b=this.buildPropsToForward();return a&&a.childrenType?React.Children.map(this.filterChildren(a.childrenType),function(a){var c=$.extend({},this.props.forwardedProps,b);return a&&a.type?React.cloneElement(a,$.extend({},c,this.buildChildPropsToKeep(a),{forwardedProps:c})):null}.bind(this)):React.Children.map(this.props.children,function(a){var c=$.extend({},this.props.forwardedProps,b);return a&&a.type?React.cloneElement(a,$.extend({},c,this.buildChildPropsToKeep(a),{forwardedProps:c})):null}.bind(this))},buildChildPropsToKeep:function(a){var b={},c=[];a.type.getDefaultProps&&(b=a.type.getDefaultProps()),$.isArray(a.props.ignoreForwarded)&&(c=a.props.ignoreForwarded);var d={};for(var e in a.props)(this.childPropValueIsNotDefault(a.props[e],b[e])||this.shouldKeepChildPropValueAnyway(e,c))&&(d[e]=a.props[e]);return d},childPropValueIsNotDefault:function(a,b){return!_.isEqual(a,b)},shouldKeepChildPropValueAnyway:function(a,b){return b.indexOf(a)>=0},buildPropsToForward:function(){for(var a=this.propsToForward?this.propsToForward():[],b=this.propsToForwardMapping?this.propsToForwardMapping():{},c={},d=0;d<a.length;d++){var e=a[d];c[e]=this.props[e]}return $.extend(c,b)}},CssClassMixin={propTypes:{clearTheme:React.PropTypes.bool,className:React.PropTypes.string,themeClassKey:React.PropTypes.string},getDefaultProps:function(){return{clearTheme:!1}},themedClassName:function a(b,c){var a="";return!this.props.clearTheme&&b&&(a+=Realize.themes.getCssClass(b)),c&&(a+=" "+c),a},className:function b(){var a=this.getThemeClassKey(),b=this.props.className;return this.themedClassName(a,b)},getThemeClassKey:function(){var a=this.props.themeClassKey;return this.state&&this.state.themeClassKey&&(a=this.state.themeClassKey),a},propsWithoutCSS:function(){var a=["className","themeClassKey"],b=$.extend({},this.props);return $.each(a,function(a,c){delete b[c]}.bind(this)),b}},FormActionsListenerMixin={propTypes:{onFormSubmit:React.PropTypes.func,onFormSuccess:React.PropTypes.func,onFormError:React.PropTypes.func,onFormReset:React.PropTypes.func},getDefaultProps:function(){return{onFormSubmit:null,onFormSuccess:null,onFormError:null,onFormReset:null}},getInitialState:function(){return{formState:null}},componentDidMount:function(){FormStore.listen(this.formActionListener)},formActionListener:function(a){try{this.executePropListener(a)}catch(b){this.executeComponentListener(a)}},executePropListener:function(a){var b=a.action,c="onForm"+S(b).capitalize().s,d=this.props[c];if("function"!=typeof d)throw"Prop form listener not defined";d.apply(this,this.formActionParameters(a))},executeComponentListener:function(a){var b=a.action,c="handleForm"+S(b).capitalize().s,d=this[c];"function"==typeof d&&d.apply(this,this.formActionParameters(a))},formActionParameters:function c(a){var b=a.actionData,d=a.formId,c=$.map(b,function(a,b){return[a]});return c.unshift(d),c}},FormContainerMixin={propTypes:{errors:React.PropTypes.object,errorThemeClassKey:React.PropTypes.string},getDefaultProps:function(){return{errors:{}}},formContainerClassName:function(){var a=this.className();return(this.inputChildrenHaveErrors()||this.props.errors&&!$.isEmptyObject(this.props.errors))&&(a+=" "+Realize.themes.getCssClass(this.props.errorThemeClassKey)),a},inputChildrenHaveErrors:function(){var a=$.map(this.props.errors,function(a,b){return b});return this.checkInputChildrenForErrors(a,this.props.children)},checkInputChildrenForErrors:function(a,b){var c=!1;return React.Children.forEach(b,function(b){return b.type==Input&&$.inArray(b.props.id,a)>=0?c=!0:b.type==InputGroup?c=this.checkInputGroupForErrors(a,b):React.Children.count(b.children)>0&&(c=this.checkInputChildrenForErrors(a,b.children)),c?!1:void 0}.bind(this)),c},checkInputGroupForErrors:function(a,b){var c=!1,d=$.map(b.props.inputs,function(a){return a.id});return $.each(d,function(b,d){return $.inArray(d,a)>=0?(c=!0,!1):void 0}),c}},FormErrorHandlerMixin={propTypes:{errorMessage:React.PropTypes.string,baseErrorParam:React.PropTypes.string,onError:React.PropTypes.func,mapping:React.PropTypes.bool},getDefaultProps:function(){return{errorMessage:"Por favor, verifique o(s) erro(s) abaixo.",baseErrorParam:"base",onError:function(a,b,c){return!0},mapping:!0}},getInitialState:function(){return{errors:{}}},renderFlashErrors:function(){return $.isEmptyObject(this.state.errors)?"":React.createElement(Flash,{type:"error",message:this.flashErrorMessage(),dismissed:!1})},clearErrors:function(){this.setState({errors:{}})},handleError:function(a,b,c){this.setState({isLoading:!1}),FormActions.error(this.props.id,a,b,c),this.props.onError(a,b,c)&&422===a.status&&this.handleValidationError(a)},handleValidationError:function(a){this.setState({errors:this.getMappingErrors(a.responseText)})},getMappingErrors:function(a){var b=JSON.parse(a);if(this.props.mapping){var c={};for(var d in b){var e=d.split(".").pop();c[e]=b[d]}return c}return b},flashErrorMessage:function(){return React.createElement("div",null,this.props.errorMessage,this.baseErrorsList())},baseErrorsList:function(){var a=this.state.errors[this.props.baseErrorParam],b=[];if(!a)return"";for(var c=0;c<a.length;c++){var d=a[c];b.push(React.createElement("li",{key:d},d))}return React.createElement("ul",null,b)}},FormSuccessHandlerMixin={propTypes:{onSuccess:React.PropTypes.func,successMessage:React.PropTypes.string},getDefaultProps:function(){return{onSuccess:function(a,b,c){return!0},successMessage:""}},getInitialState:function(){return{showSuccessFlash:!1}},renderFlashSuccess:function(){return this.state.showSuccessFlash?React.createElement(Flash,{type:"success",message:this.props.successMessage,dismissed:!1}):""},handleSuccess:function handleSuccess(data,status,xhr){var showSuccessFlash=!!this.props.successMessage&&this.props.successMessage.length>0;this.setState({isLoading:!1,errors:{},showSuccessFlash:showSuccessFlash}),FormActions.success(this.props.id,data,status,xhr),this.props.onSuccess(data,status,xhr)&&xhr.getResponseHeader("Content-Type").match(/text\/javascript/)&&eval(data)}},GridActionsMixin={propTypes:{actionButtons:React.PropTypes.object,rowHref:React.PropTypes.string,haveShowAction:React.PropTypes.bool,createAction:React.PropTypes.object,showAction:React.PropTypes.object,editAction:React.PropTypes.object,destroyAction:React.PropTypes.object},getDefaultProps:function(){return{actionButtons:null,rowHref:null,haveShowAction:!1,createActionButton:{},showActionButton:{},editActionButton:{},destroyActionButton:{}}},getRowHref:function(){var a=this.props.rowHref,b=this.props.haveShowAction;return!b||a&&"string"==typeof a?a:this.getRestActionUrl("show")},getActionButtons:function(){var a=this.props.actionButtons||{};return a.member||(a.member=this.getDefaultMemberActionButtons()),a.collection||(a.collection=this.getDefaultCollectionActionButtons()),a},getMemberActionButtons:function(){return $.isPlainObject(this.props.actionButtons)&&this.props.actionButtons.member?this.props.actionButtons.member:this.getDefaultMemberActionButtons()},getDefaultMemberActionButtons:function(){var a=[this.getDefaultEditActionProps(),this.getDefaultDestroyActionProps()];return this.props.haveShowAction&&a.unshift(this.getDefaultShowActionProps()),a},getCollectionActionButtons:function(){return $.isPlainObject(this.props.actionButtons)&&this.props.actionButtons.collection?this.props.actionButtons.collection:this.getDefaultCollectionActionButtons()},getDefaultCollectionActionButtons:function(){return[this.getDefaultCreateActionProps()]},getDefaultCreateActionProps:function(){return $.extend({},{name:"actions.new",context:"none",href:this.getRestActionUrl("add")},this.props.createActionButton)},getDefaultShowActionProps:function(){return $.extend({},{icon:"search",href:this.getRestActionUrl("show")},this.props.showActionButton)},getDefaultEditActionProps:function(){return $.extend({},{icon:"edit",href:this.getRestActionUrl("edit")},this.props.editActionButton)},getDefaultDestroyActionProps:function(){return $.extend({},{icon:"destroy",method:this.getRestActionMethod("destroy"),actionUrl:this.getRestActionUrl("destroy"),confirmsWith:this.props.destroyConfirm},this.props.destroyActionButton)}},CheckboxComponentMixin={propTypes:{checked:React.PropTypes.bool,renderAsIndeterminate:React.PropTypes.bool},getDefaultProps:function(){return{renderAsIndeterminate:!1}},getInitialState:function(){return{checked:this.getInitialChecked()}},componentDidMount:function(){var a=ReactDOM.findDOMNode(this.refs.input);a.indeterminate=this.props.renderAsIndeterminate;var b=$(a.form);b.on("reset",this._handleCheckboxReset)},componentWillUnmount:function(){var a=ReactDOM.findDOMNode(this.refs.input),b=$(a.form);b.off("reset",this._handleCheckboxReset)},valueIsBoolean:function(){var a=this.props.value;return"boolean"==typeof a||0===a||1===a},getInitialChecked:function(){var a=this.props.checked;return null!==a&&void 0!==this.props.checked?a:this.valueIsBoolean()?!!this.props.value:!1},_handleCheckboxReset:function(a){this.isMounted()&&this.setState({checked:this.getInitialChecked()})},_handleCheckboxChange:function(a){if(this.props.onChange(a),!a.isDefaultPrevented()){var b={checked:a.target.checked};this.valueIsBoolean()&&(b.value=a.target.checked),this.setState(b)}}},InputComponentMixin={propTypes:{id:React.PropTypes.string,name:React.PropTypes.string,value:React.PropTypes.node,disabled:React.PropTypes.bool,readOnly:React.PropTypes.bool,placeholder:Realize.PropTypes.localizedString,errors:React.PropTypes.node,onChange:React.PropTypes.func,onFocus:React.PropTypes.func},getDefaultProps:function(){return{value:null,disabled:!1,readOnly:!1,onChange:function(a){return!0},onFocus:function(a){return!0},errors:[]}},getInitialState:function(){return{value:this.props.value}},componentDidMount:function(){var a=$(this.getInputFormNode());a.on("reset",this._handleReset)},componentWillUnmount:function(){var a=$(this.getInputFormNode());a.off("reset",this._handleReset)},getInputFormNode:function(){var a=this.refs.input;return a?ReactDOM.findDOMNode(a).form:null},_handleReset:function(a){this.isMounted()&&!this.inputNodeIsCheckbox()&&this.setState({value:null})},_handleChange:function(a){if(this.props.onChange(a),!a.isDefaultPrevented()){var b=a.target.value;this.setState({value:b})}},_handleFocus:function(a){if(this.props.onFocus(a),this.props.readOnly){var b=a.currentTarget;b.blur()}},inputClassName:function(){var a=this.className(),b=this.props.errors;return b&&b.length>0&&(a+=" "+Realize.themes.getCssClass("input.error")),a},getPlaceholder:function(){var a=Realize.t(this.props.placeholder);return"string"!=typeof a||0===a.length?null:a},inputNodeIsCheckbox:function(){var a=ReactDOM.findDOMNode(this.refs.input);return!!a&&"checkbox"===a.type}},InputSelectActionsListenerMixin={componentDidMount:function(){InputSelectStore.listen(this.inputSelectActionListener)},inputSelectActionListener:function(a){var b=a.inputId;if(this.isChangedInput(b)){var c=a.action,d="handle"+c+"Action";this[d](a)}},isChangedInput:function(a){var b=this.props.originalId,c=this.props.id;return!!b&&b==a||!!c&&c==a},handleSelectAction:function(a){var b=a.selectedOption;this.validateSelectedOption(b),this.setState({optionsCache:this.cacheSelectedOption(b),value:[b.value]})},handleSelectSearchValueAction:function(a){var b=this.state.searchValue;if("string"!=typeof b)throw new Error(Realize.t("errors.invalidAction"));a.selectedOption={name:b,value:b},this.handleSelectAction(a),"function"==typeof this.hideResult&&this.hideResult()},validateSelectedOption:function(a){if("object"!=("undefined"==typeof a?"undefined":_typeof(a))||!a.name||!a.value)throw new Error(Realize.t("errors.inputSelect.invalidOption"))},cacheSelectedOption:function(a){return"function"==typeof this.cacheOptions?this.cacheOptions([a]):this.state.optionsCache}},MaterializeSelectMixin={componentDidMount:function(){this.applyMaterialize(!0)},componentDidUpdate:function(a,b){this.state.options!=b.options&&this.applyMaterialize()},applyMaterialize:function(a){var b=ReactDOM.findDOMNode(this.refs.select);$(b).material_select(this.handleChangeMaterialize.bind(this,b)),a||this.handleChangeMaterialize(b)},handleChangeMaterialize:function(a){var b=$(a),c={currentTarget:a};this.props.onChange(c),b.parent().parent().find("> .caret").remove(),this.setState({value:this.ensureIsArray(a.value)},this.triggerDependableChanged)}},SelectComponentMixin={propTypes:{options:React.PropTypes.array,dependsOn:React.PropTypes.object,optionsUrl:React.PropTypes.string,optionsParam:React.PropTypes.string,nameField:React.PropTypes.string,valueField:React.PropTypes.string,multiple:React.PropTypes.bool,onLoad:React.PropTypes.func,onLoadError:React.PropTypes.func,onSelect:React.PropTypes.func},getDefaultProps:function(){return{dependsOn:null,optionsParam:null,nameField:"name",valueField:"id",options:[],multiple:!1,onSelect:null,onLoad:function(a){return!0},onLoadError:function(a,b,c){console.log("Select Load error:"+c)}}},getInitialState:function(){return{options:this.props.options,optionsCache:this.props.options,disabled:this.props.disabled,mustDisable:!1,loadParams:{},loadData:[]}},componentWillMount:function(){this.state.value=this.ensureIsArray(this.state.value),this.props.dependsOn&&(this.state.mustDisable=!0)},componentDidMount:function(){this.props.optionsUrl&&(this.props.dependsOn?(this.listenToDependableChange(),this.loadDependentOptions()):this.loadOptions()),this.state.value.length>0&&this.triggerDependableChanged()},componentWillUnmount:function(){this.props.dependsOn&&this.unbindDependableChangeListener()},ensureIsArray:function(a){return null===a||void 0===a||0===a.length?a=[]:$.isArray(a)||(a=[a]),a},selectedOptions:function d(){var d=[];return $.each(this.state.optionsCache,function(a,b){this.state.value.indexOf(b.value)>=0&&d.push(b)}.bind(this)),d},loadOptions:function(){$.ajax({url:this.props.optionsUrl,method:"GET",dataType:"json",data:this.state.loadParams,success:this.handleLoad,error:this.onLoadError})},handleLoad:function(a){var b=[],c=this.props.optionsParam;c&&(a=a[c]);for(var d=0;d<a.length;d++){var e=a[d],f={name:String(e[this.props.nameField]),value:e[this.props.valueField]};b.push(f)}this.setState({loadData:a,options:b,optionsCache:this.cacheOptions(b),mustDisable:!!this.props.dependsOn&&b.length<=0},this.triggerDependableChanged),this.props.onLoad(a)},cacheOptions:function(a){var b=a.slice(0),c=$.map(b,function(a){return a.value});return $.each(this.state.optionsCache,function(a,d){var e=d.value;c.indexOf(e)<0&&b.push(d)}),b},listenToDependableChange:function(){var a=this.props.dependsOn.dependableId;a=a.replace(/(:|\.|\[|]|,)/g,"\\$1"),$("body").delegate("#"+a,"dependable_changed",this.onDependableChange)},unbindDependableChangeListener:function(){var a=this.props.dependsOn.dependableId;a=a.replace(/(:|\.|\[|]|,)/g,"\\$1"),$("body").undelegate("#"+a,"dependable_changed",this.onDependableChange)},onDependableChange:function(a,b){this.loadDependentOptions(b)},loadDependentOptions:function(a){if(a||(a=this.getDependableNode().val()),!a||0===a.length)return this.emptyAndDisable(),!1;$.isArray(a)&&1==a.length&&(a=a[0]);var b=this.props.dependsOn,c=b.param||b.dependableId;this.state.loadParams[c]=a,this.loadOptions()},getDependableNode:function(){var a=this.props.dependsOn;return $(document.getElementById(a.dependableId))},triggerDependableChanged:function(){var a=$(ReactDOM.findDOMNode(this.refs.select)),b=this.state.value;a.trigger("dependable_changed",[b])},emptyAndDisable:function(){this.setState({options:[],optionsCache:[],mustDisable:!0})},isDisabled:function(){return this.state.disabled||this.state.mustDisable}},LocalizedResourceFieldMixin={propTypes:{resource:React.PropTypes.string,name:React.PropTypes.string},localizeResourceField:function(a,b){if(a||(a=this.props.name),b||(b=this.props.resource),void 0===a||void 0===b)return"";try{var c="resources."+b+".fields."+a;return Realize.t(c,!0)}catch(d){c="resources.defaults.fields."+a;try{return Realize.t(c,!0)}catch(d){return a}}}},ModalRendererMixin={propTypes:{modalContainerId:React.PropTypes.string},getDefaultProps:function(){return{modalContainerId:"modal-container"}},renderModalHtml:function(a){var b=this.props.modalContainerId,c=$("#"+b);0===c.length&&(c=$("<div id='"+b+"'></div>"),$("body").append(c)),c.html(a)}},RequestHandlerMixin={propTypes:{onRequest:React.PropTypes.func,onSuccess:React.PropTypes.func,onError:React.PropTypes.func,onComplete:React.PropTypes.func},current_xhr:null,getDefaultProps:function(){return{onRequest:function(a,b){},onSuccess:function(a,b,c){return!0},onError:function(a,b,c){return!0},onComplete:function(a,b){return!0}}},getInitialState:function(){return{isLoading:!1}},performRequest:function(a,b,c,d){var e={url:a,data:b||{},method:c||"GET",success:this.successCallback,error:this.errorCallback,complete:this.completeCallback};d&&(e.dataType=d),this.cancelPendingRequest(),this.requestCallback(b,a),this.current_xhr=$.ajax(e)},cancelPendingRequest:function(){null!==this.current_xhr&&this.current_xhr.readyState<4&&this.current_xhr.abort()},requestCallback:function(a,b){this.setState({isLoading:!0}),this.executeCallback("onRequest",a,b)},successCallback:function(a,b,c){this.executeCallback("onSuccess",a,b,c)&&this.handleSuccess(a,b,c)},errorCallback:function(a,b,c){"abort"!==c&&this.executeCallback("onError",a,b,c)},completeCallback:function(a,b){this.setState({isLoading:!1}),this.executeCallback("onComplete",a,b)},executeCallback:function(a){var b=Array.prototype.slice.call(arguments,1),c=this[a],d=this.props[a];"function"==typeof c?c.apply(this,b):d.apply(this,b)},handleSuccess:function(a,b,c){var d=c.getResponseHeader("Content-Type");d.match(/text\/javascript/)?this.handleJsResponse(a):d.match(/text\/html/)&&this.handleHtmlResponse(a)},handleJsResponse:function handleJsResponse(responseJs){eval(responseJs)},handleHtmlResponse:function(a){}},RestActionsMixin={propTypes:{actionUrls:React.PropTypes.object,actionMethods:React.PropTypes.object,destroyConfirm:React.PropTypes.node},getDefaultProps:function(){return{actionUrls:null,actionMethods:null,destroyConfirm:"Tem certeza que deseja remover este item?"}},getRestActionUrl:function(a,b){var c=this.props.actionUrls||Realize.config.restUrls,d=c[a],e=this.getActionBaseUrl(),f=this.getActionQueryString();return d=d.replace(/:url/,e),b&&(d=d.replace(/:id/,b)),d+f},getRestActionMethod:function(a){var b=this.props.actionMethods||Realize.config.restMethods;return b[a]},getActionBaseUrl:function(){var a=this.props.url.match(/^(.*)\?/);return a?a[1]:this.props.url},getActionQueryString:function(){var a=this.props.url.match(/\?.*$/);return a?a[0]:""}},UtilsMixin={generateUUID:function(){var a=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=(a+16*Math.random())%16|0;return a=Math.floor(a/16),("x"==b?c:3&c|8).toString(16)})}},EditPermissions=React.createClass({displayName:"EditPermissions",mixins:[RequestHandlerMixin],PropTypes:{principal:React.PropTypes.object,principalType:React.PropTypes.string,resource:React.PropTypes.object,resourceType:React.PropTypes.string,title:React.PropTypes.string,saveOnSelect:React.PropTypes.bool,principalPermissions:React.PropTypes.object,permissionsBaseUrl:React.PropTypes.permissionsBaseUrl},getDefaultProps:function(){return{principal:null,principalType:"User",resource:null,resourceType:null,title:"",saveOnSelect:!1,principalPermissions:null,permissionsBaseUrl:"/wkm_acl_ui/permissions"}},getInitialState:function(){return{permissions:[],permissionsChecked:this.initialPrincipalPermissions()}},componentDidMount:function(){this.getPermissions()},componentDidUpdate:function(){$(".permission-manager-modal").resize()},componentWillReceiveProps:function(a){this.setState({permissionsChecked:a.principalPermission})},render:function(){return React.createElement("div",{className:"row permissions-manager"},this.renderTitle(),React.createElement("div",{className:"box-edit-permissions"},this.renderHiddenInputs(),this.renderPermissionGroup()))},initialPrincipalPermissions:function(){return this.props.principalPermissions?this.props.principalPermissions:[]},checked:function e(a){var b=this.state.permissionsChecked?this.state.permissionsChecked.permissions:[],e=!1;if(b)for(var c=0;c<b.length;c++){var d=b[c].permission,f=b[c].implies;$.isArray(d)||(d=[d]),(-1!==d.indexOf(a)||-1!==f.indexOf(a))&&(e=!0)}return e},disabled:function f(a){var b=this.state.permissionsChecked?this.state.permissionsChecked.permissions:[],f=!1;if(b)for(var c=0;c<b.length;c++){var d=b[c].permission,e=b[c].implies,g=b[c].inherited;(-1!==e.indexOf(a)||d==a&&1==g)&&(f=!0)}return f},handleChange:function(a,b){var c=React.findDOMNode(this.refs["checkbox_"+a]),d=$($(c).find("input")).is(":checked");this.props.saveOnSelect?d?this.grantPermission(a):this.revokePermission(a):d?this.belongsToPermissionsChecked(a)||this.addPermissionChecked(a):this.removePermissionChecked(a);
},grantPermission:function(a){var b=this.props.permissionsBaseUrl,c={principal_id:this.props.principal.id,principal_type:"User",resource_id:this.props.resource.id,resourceType:this.props.resourceType,permissions:[a]};this.performRequest(b,c,"POST","json")},revokePermission:function(a){var b=this.props.permissionsBaseUrl+"/"+this.props.principal.id,c={principal_id:this.props.principal.id,principal_type:"User",resource_id:this.props.resource.id,resource_type:this.props.resourceType,permissions:[a]};this.performRequest(b,c,"DELETE","json")},getPermissions:function(){$.ajax({url:this.props.permissionsBaseUrl+"/"+this.props.principal.id,method:"GET",dataType:"json",data:{principal_type:this.props.principalType,principal_id:this.props.principal.id,resource_id:this.props.resource.id,resource_type:this.props.resourceType},success:function(a){this.setState({permissions:a.permissions})}.bind(this)})},onSuccess:function(){this.getPermissions()},addPermissionChecked:function(a){this.props.handleAddPermissionChecked(a)},removePermissionChecked:function(a){this.props.handleRemovePermissionChecked(a)},belongsToPermissionsChecked:function(a){for(var b=this.state.permissionsChecked?this.state.permissionsChecked.permissions:[],c=!1,d=0;d<b.length;d++)b[d].permissions===a&&(c=!0);return c},checkboxId:function(a){return"permissions_"+a+"_"},checkboxName:function(){return"permissions[]"},renderPermissionGroup:function(){var a=[],b=this.state.permissions,c=this.props.resource.id;return b&&b.forEach(function(b){a.push(React.createElement(Input,{key:c+"_"+b+"_"+Math.random(),component:"checkbox",ref:"checkbox_"+b,label:I18n.t("permissions."+b),value:b,checked:this.checked(b),disabled:this.disabled(b),onChange:this.handleChange.bind(this,b),id:this.checkboxId(b),name:this.checkboxName(),className:"col s12"}))}.bind(this)),a},renderTitle:function(){var a=[];return this.props.title&&a.push(React.createElement("h3",null,this.props.title)),a},renderHiddenInputs:function(){var a=[];return a.push(React.createElement("input",{type:"hidden",name:"_method",value:"put"})),a.push(React.createElement("input",{type:"hidden",name:"resource_type",value:this.props.resourceType})),a.push(React.createElement("input",{type:"hidden",name:"resource_id",value:this.props.resource.id})),a.push(React.createElement("input",{type:"hidden",name:"principal_type",value:this.props.principalType})),a.push(React.createElement("input",{type:"hidden",name:"principal_id",value:this.props.principal.id})),a}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},IndexPermissions=React.createClass({displayName:"IndexPermissions",mixins:[RequestHandlerMixin,ModalRendererMixin],PropTypes:{principal:React.PropTypes.object,resourceType:React.PropTypes.string,gridProps:React.PropTypes.object,className:React.PropTypes.string,editPermissionBaseUrl:React.PropTypes.object},getDefaultProps:function(){return{principal:null,principalType:null,resourceType:"",className:"index-permissions",editPermissionBaseUrl:"/wkm_acl_ui/permission_managers",gridProps:{url:"/wkm_acl_ui/permissions",selectable:!1,pagination:!1,eagerLoad:!0,tableClassName:"table striped bordered"},editPermissionsProps:{url:null,actionCallback:null}}},getInitialState:function(){return{hasResource:!0}},render:function(){var a=this.state.hasResource;return a?display="block":display="none",React.createElement("div",{className:this.props.className,style:{display:display}},React.createElement(Grid,_extends({},this.props.gridProps,{ref:"grid",columns:this.getColumns(),filter:this.filters(),onLoadSuccess:this.onLoadSuccess,actionButtons:this.getActionButtons()})))},openEditPermission:function(a,b,c){var d=this.props.editPermissionBaseUrl,c={principal_id:this.props.principal.id,principal_type:this.props.principalType,resource_type:this.props.resourceType,resource_id:c.resource_id};this.performRequest(d,c)},onSuccess:function(a){this.renderModalHtml(a)},getActionButtons:function(){var a=this.props.gridProps;return a.actionButtons?a.actionButtons:{member:[{icon:"edit",onClick:this.openEditPermission}],collection:[]}},getColumns:function(){var a=this.props.gridProps;if(a.columns)return a.columns;var b=this.props.resourceType;return this.defaultColumns(b)},defaultColumns:function(a){return{resource_name:{label:I18n.t("models."+a)},permission:{label:"Permissão",component:"LabelPermission"}}},filters:function(){return{resource:"q",inputs:{principal_id:{value:this.props.principal.id,component:"hidden",scope:"global"},principal_type:{value:this.props.principalType,component:"hidden",scope:"global"},resource_type:{value:this.props.resourceType,component:"hidden",scope:"global"}}}},onLoadSuccess:function(){var a=this.refs.grid.state.dataRows;0==a.length&&this.setState({hasResource:!1})}}),LabelPermission=React.createClass({displayName:"LabelPermission",PropTypes:{className:React.PropTypes.string},getDefaultProps:function(){return{className:""}},render:function(){return React.createElement("div",{className:this.props.className},this.renderLabel())},renderLabel:function(){var a=[],b=this.props.value;return 0==b.length?a.push(React.createElement("div",null," - ")):b.forEach(function(b){a.push(React.createElement("div",null,I18n.t("permissions."+b)))}),a}}),AclModalsWrapper=React.createClass({displayName:"AclModalsWrapper",mixins:[RequestHandlerMixin],PropTypes:{principal:React.PropTypes.object,principalType:React.PropTypes.string,resource:React.PropTypes.object,resourceType:React.PropTypes.string,urlProps:React.PropTypes.object,title:React.PropTypes.string},getDefaultProps:function(){return{principal:null,principalType:"",resource:null,resourceType:"",title:null,urlProps:{principalsBaseUrl:"/wkm_acl_ui/principals",potentialPrincipalsBaseUrl:"/wkm_acl_ui/principals/potential_principals",principalsTypeBaseUrl:"/wkm_acl_ui/principals/types",updatePermissionsBaseUrl:"/wkm_acl_ui/bulk_permissions",principalsPermissionsBaseUrl:"/wkm_acl_ui/principals/principals_permissions"}}},render:function(){return React.createElement("div",null,React.createElement("div",null,this.renderPermissionManagerModal(),this.renderAddPrincipalsModal()))},renderPermissionManagerModal:function(){var a=[];return a.push(React.createElement(PermissionManagerModal,{ref:"permissionManagerModal",title:this.props.title,resource:this.props.resource,resourceType:this.props.resourceType,principal:this.props.principal,principalType:this.props.principalType,principalsBaseUrl:this.props.urlProps.principalsBaseUrl,principalsPermissionsBaseUrl:this.props.urlProps.principalsPermissionsBaseUrl,updatePermissionsBaseUrl:this.props.urlProps.updatePermissionsBaseUrl,handleRemovePrincipal:this.handleRemovePrincipal})),a},renderAddPrincipalsModal:function(){var a=[];return this.props.principal||a.push(React.createElement(AddPrincipalsModal,{potentialPrincipalsBaseUrl:this.props.urlProps.potentialPrincipalsBaseUrl,principalsTypeBaseUrl:this.props.urlProps.principalsTypeBaseUrl,handleAddPrincipal:this.handleAddPrincipal,resource:this.props.resource,resourceType:this.props.resourceType})),a},handleAddPrincipal:function(a){var b=this.props.urlProps.principalsBaseUrl,c={principals:a,resource_id:this.props.resource.id,resource_type:this.props.resourceType};this.performRequest(b,c,"POST"),$("#add-principals-modal").closeModal(),this.refs.permissionManagerModal.loadPrincipalsPermissions(a)},handleRemovePrincipal:function(a){if(confirm("Você tem certeza que deseja retirar as permissões desse usuário/grupo?")){var b=this.props.urlProps.principalsBaseUrl,c={resource_id:this.props.resource.id,resource_type:this.props.resourceType,principal_id:a.id,principal_type:a.principal_type};this.performRequest(b,c,"DELETE")}},onSuccess:function(){this.forceUpdate()}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},AddPrincipalsModal=React.createClass({displayName:"AddPrincipalsModal",mixins:[RequestHandlerMixin],PropTypes:{resource:React.PropTypes.object,resourceType:React.PropTypes.string,className:React.PropTypes.string,modalId:React.PropTypes.string,potentialPrincipalsBaseUrl:React.PropTypes.string,principalsTypeBaseUrl:React.PropTypes.string},getDefaultProps:function(){return{className:"add-principals-modal",modalId:"add-principals-modal",potentialPrincipalsBaseUrl:"/wkm_acl_ui/principals/potential_principals",principalsTypeBaseUrl:"/wkm_acl_ui/principals/types",gridProps:{selectable:!0,paginationOnTop:!1,paginationConfigs:{perPage:10,window:4,param:"p"},columns:{name:{label:"Nome"},principal_type_translated:{label:"Tipo"}},tableClassName:"table bordered",actionButtons:{member:[],collection:[]}}}},getInitialState:function(){return{selectedPrincipal:null,potentialPrincipals:[],principalType:null}},componentWillMount:function(){$.ajax({url:this.props.principalsTypeBaseUrl,method:"GET",dataType:"json",success:function(a){this.setState({principalType:a[0].name})}.bind(this)})},componentWillReceiveProps:function(){this.refs.grid.backToInitialState()},render:function(){return React.createElement(Modal,{id:this.props.modalId,style:{"z-index":"9000"},className:this.props.className,headerSize:this.props.headerSize,ref:"add-principals-modal"},React.createElement(ModalHeader,null,React.createElement("h5",null,"Selecionar Usuário/Grupo")),React.createElement(ModalContent,null,React.createElement("div",{className:"principal-modal-content"},React.createElement(Grid,_extends({ref:"grid"},this.props.gridProps,{url:this.props.potentialPrincipalsBaseUrl,filter:this.filters(),eagerLoad:!0,onClickRow:this.handleSelectPrincipal})))),React.createElement(ModalFooter,null,React.createElement("div",{className:"modal-footer",style:{"float":"right"}},React.createElement(CloseModalButton,{modalId:this.props.modalId}),React.createElement(Button,{name:"Adicionar",element:"a",onClick:this.handleAddPrincipal}))))},filters:function(){return{resource:"q",inputs:{name_cont:{label:"Nome",className:"col s12 l6 m6"},principal_type:{label:"Tipo",component:"autocomplete",optionsUrl:this.props.principalsTypeBaseUrl,searchParam:"principal_type",className:"col s12 l6 m6",scope:"global"},resource_id:{value:this.props.resource.id,component:"hidden",scope:"global"},resource_type:{value:this.props.resourceType,component:"hidden",scope:"global"},per_page:{value:10,component:"hidden",scope:"global"}}}},handleSelectPrincipal:function(a,b){this.setState({selectedPrincipal:b})},handleAddPrincipal:function(){var a=this.getSelectedDatas();0==a.length?alert("Necessário selecionar alguém para adicionar"):this.addPrincipal(a)},getSelectedDatas:function(){var a=this.refs.grid.state.selectedRowIds,b=this.refs.grid.state.dataRows,c=[];return a.forEach(function(a){b.forEach(function(b){b.id==a&&c.push({principal_id:b.id,principal_type:b.principal_type})})}),c},addPrincipal:function(a){this.props.handleAddPrincipal(a)},getData:function(){return{dataRows:this.state.potentialPrincipals,count:this.state.potentialPrincipals.length}}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},CloseModalButton=React.createClass({displayName:"CloseModalButton",PropTypes:{name:React.PropTypes.string,className:React.PropTypes.string,clearTheme:React.PropTypes.bool,element:React.PropTypes.string,modalId:React.PropTypes.string},getDefaultProps:function(){return{name:"Fechar",className:"btn waves-effect waves-light close-button grey lighten-4",clearTheme:!0,element:"a"}},render:function(){return React.createElement(Button,_extends({},this.props,{onClick:this.closeModal}))},closeModal:function(){this.props.modalId&&$("#"+this.props.modalId).closeModal()}}),PermissionManagerModal=React.createClass({displayName:"PermissionManagerModal",mixins:[RequestHandlerMixin],PropTypes:{permissionManagerInModal:React.PropTypes.bool,principal:React.PropTypes.object,principalType:React.PropTypes.string,resource:React.PropTypes.object,resourceType:React.PropTypes.string,className:React.PropTypes.string,modalId:React.PropTypes.string,updatePermissionsBaseUrl:React.PropTypes.string,principalsBaseUrl:React.PropTypes.string,principalsPermissionsBaseUrl:React.PropTypes.string,title:React.PropTypes.string},getDefaultProps:function(){return{permissionManagerInModal:!0,principal:null,principalType:"",resource:null,resourceType:"",title:null,className:"permission-manager-modal",modalId:"permission-manager-modal",updatePermissionsBaseUrl:"/wkm_acl_ui/bulk_permissions",principalsBaseUrl:"/wkm_acl_ui/principals",principalsPermissionsBaseUrl:"/wkm_acl_ui/principals/principals_permissions"}},render:function(){return React.createElement(Modal,{id:this.props.modalId,className:this.props.className,headerSize:this.props.headerSize,opened:!0,ref:"modal"},React.createElement(ModalHeader,null,React.createElement("h5",null,"Gerenciar Permissões - ",this.props.resource.name)),React.createElement(ModalContent,null,React.createElement("div",{className:"permissions-modal-content"},React.createElement(PermissionManager,{ref:"permissionManager",handleRemovePrincipal:this.props.handleRemovePrincipal,permissionManagerInModal:this.props.permissionManagerInModal,principal:this.props.principal,principalType:this.props.principalType,resource:this.props.resource,resourceType:this.props.resourceType,principalsBaseUrl:this.props.principalsBaseUrl,principalsPermissionsBaseUrl:this.props.principalsPermissionsBaseUrl}))),React.createElement(ModalFooter,null,React.createElement("div",{className:"modal-footer",style:{"float":"right"}},React.createElement(CloseModalButton,{modalId:this.props.modalId}),React.createElement(UpdatePermissionsButton,{handleUpdatePermissions:this.handleUpdatePermissions}))))},renderTitle:function(){var a=[];if(this.props.title)var b=this.props.title;else var b=this.props.resource.name;return a.push(React.createElement("h5",null,"Gerenciar Permissões - ",b)),a},loadPrincipalsPermissions:function(a){this.refs.permissionManager.createPrincipalsPermissions(a)},getPostData:function(){for(var a=this.refs.permissionManager.state.principalsPermissions,b=[],c=0;c<a.length;c++)if(a[c].changed){var d=a[c].permissions,e=d.map(function(a){return a.permission}),f=d.map(function(a){return a.implies});f=[].concat.apply([],f),e=_.difference(e,f),b.push({principal_id:a[c].principal_id,principal_type:a[c].principal_type,permissions:e})}return{resource_id:this.props.resource.id,resource_type:this.props.resourceType,permissions_by_principal:b}},handleUpdatePermissions:function(a){var b=this.props.updatePermissionsBaseUrl,c=this.getPostData(),d="PUT";this.performRequest(b,c,d)},onSuccess:function(){$("#"+this.props.modalId).closeModal(),window.location.reload()}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},PermissionManager=React.createClass({displayName:"PermissionManager",mixins:[RequestHandlerMixin],PropTypes:{principal:React.PropTypes.object,principalType:React.PropTypes.string,resource:React.PropTypes.object,resourceType:React.PropTypes.string,PrincipalGridProps:React.PropTypes.object,permissionManagerInModal:React.PropTypes.bool,principalsBaseUrl:React.PropTypes.string,principalsPermissionsBaseUrl:React.PropTypes.string,impliesPermissionBaseUrl:React.PropTypes.string,permissionsBaseUrl:React.PropTypes.string},getDefaultProps:function(){return{principal:null,principalType:"",resource:null,resourceType:"",permissionManagerInModal:!1,principalsBaseUrl:"/wkm_acl_ui/principals",principalsPermissionsBaseUrl:"/wkm_acl_ui/principals/principals_permissions",impliesPermissionBaseUrl:"/wkm_acl_ui/implies",permissionsBaseUrl:"/wkm_acl_ui/permissions",PrincipalGridProps:{selectable:!1,pagination:!1,columns:{name:{label:"Nome"},principal_type_translated:{label:"Tipo"}},tableClassName:"table bordered",clearThemeTable:!0,actionButtons:{member:[],collection:[]}}}},getInitialState:function(){return{principalsPermissions:{},selectedPrincipal:this.props.principal,principals:[]}},componentDidMount:function(){this.loadPrincipals(),this.loadPrincipalsPermissions()},componentWillReceiveProps:function(){this.loadPrincipals()},render:function(){return React.createElement("div",null,this.renderPrincipalsGrid(),this.renderEditPermission(),this.renderAddPrincipalsModal())},renderPrincipalsGrid:function(){var a=[],b=this.props.principal;return b||(a.push(React.createElement("h5",null,"Usuários/Grupo:")),a.push(React.createElement("div",null,React.createElement("div",{className:"principal-grid"},React.createElement(Grid,_extends({ref:"grid"},this.props.PrincipalGridProps,{key:Math.random(),onClickRow:this.handleSelectPrincipal,tableRowCssClass:this.rowCssClass,data:this.dataGridPrincipals()}))),this.renderActionButtons()))),a},renderActionButtons:function(){var a=[];return a.push(React.createElement(PrincipalActionButtons,{handleRemovePrincipal:this.handleRemovePrincipal,handleOpenPrincipalModal:this.handleOpenPrincipalModal,modalContainerId:"principals-modal"})),a},renderEditPermission:function(){var a=[],b=this.state.selectedPrincipal?this.state.selectedPrincipal:this.props.principal,c=this.state.selectedPrincipal?b.principal_type:this.props.principalType;return b&&(a.push(React.createElement("h5",null,"Permissões de ",b.name,":")),a.push(React.createElement(EditPermissions,{principal:b,principalType:c,principalPermission:this.principalPermission(),resource:this.props.resource,resourceType:this.props.resourceType,handleRemovePermissionChecked:this.handleRemovePermissionChecked,handleAddPermissionChecked:this.handleAddPermissionChecked}))),a},renderAddPrincipalsModal:function(){var a=this.props.permissionManagerInModal;if(!a){var b=[];return b.push(React.createElement(IndexPrincipal,{handleAddPrincipal:this.handleAddPrincipal})),b}},handleRemovePermissionChecked:function(a){for(var b=this.principalPermission(),c=b.permissions,d=0;d<c.length;d++)c[d].permission===a&&c.splice(d,1);b.permissions=c,b.changed=!0;var e=this.switchPrincipalPermissions(b);this.setState({principalPermissions:e})},handleAddPermissionChecked:function(a){var b=this.state.selectedPrincipal?this.state.selectedPrincipal.id:this.props.principal.id;$.ajax({url:this.props.impliesPermissionBaseUrl,method:"GET",dataType:"json",data:{principal_id:b,principal_type:"User",permission:a,resource_id:this.props.resource.id,resource_type:this.props.resourceType},success:function(a){this.addPermissionChecked(a.permissions)}.bind(this)})},addPermissionChecked:function(a){for(var b=this.state.principalsPermissions,c=this.state.selectedPrincipal?this.state.selectedPrincipal:this.props.principal,d=0;d<b.length;d++)c.id==b[d].principal_id&&(b[d].permissions.push(a),b[d].changed=!0);0==b.length&&b.push({principal_id:c.id,principal_type:this.props.principalType,permissions:[a],changed:!0}),this.setState({principalPermissions:b})},switchPrincipalPermissions:function(a){for(var b=this.state.principalsPermissions,c=this.state.selectedPrincipal?this.state.selectedPrincipal:this.props.principal,d=0;d<b.length;d++)c.id==b[d].principal_id&&b.splice(d,1);return b.push(a),b},handleSelectPrincipal:function(a,b){this.setState({selectedPrincipal:b})},principalPermission:function(){for(var a=this.state.principalsPermissions,b=null,c=this.state.selectedPrincipal?this.state.selectedPrincipal:this.props.principal,d=0;d<a.length;d++)c.id==a[d].principal_id&&(b=a[d]);return b},rowCssClass:function(a){var b=this.state.selectedPrincipal;return a&&b&&a.id==b.id?"row-selected":void 0},dataGridPrincipals:function(){return{dataRows:this.state.principals,count:10}},handleRemovePrincipal:function(){this.props.handleRemovePrincipal(this.state.selectedPrincipal)},handleOpenPrincipalModal:function(){$("#add-principals-modal").openModal(),$(window).resize()},createPrincipalsPermissions:function(a){for(var b=this.state.principalsPermissions,c=0;c<a.length;c++)this.alreadyExistPrincipalPermissions(a[c])||b.push({principal_id:a[c].principal_id,principal_type:a[c].principal_type,permissions:[]});this.setState({principalsPermissions:b})},alreadyExistPrincipalPermissions:function(a){for(var b=this.state.principalsPermissions,c=!1,d=0;d<b.length;d++)if(b[d].principal_id==a.id){c=!0;break}return c},loadPrincipals:function(){$.ajax({url:this.props.principalsBaseUrl,dataType:"json",data:{resource_id:this.props.resource.id,resource_type:this.props.resourceType},success:function(a){this.setState({principals:a.principals,selectedPrincipal:a.principals[0]})}.bind(this)})},loadPrincipalsPermissions:function(){$.ajax({url:this.props.principalsPermissionsBaseUrl,dataType:"json",data:{resource_id:this.props.resource.id,resource_type:this.props.resourceType},success:function(a){this.setState({principalsPermissions:a.principals})}.bind(this)})}}),PrincipalActionButtons=React.createClass({displayName:"PrincipalActionButtons",mixins:[RequestHandlerMixin,ModalRendererMixin],PropTypes:{className:React.PropTypes.string,handleOpenPrincipalModal:React.PropTypes.func,handleRemovePrincipal:React.PropTypes.func},getDefaultProps:function(){return{className:"principal-action-buttons",handleAddPrincipal:null,handleRemovePrincipal:null}},render:function(){return React.createElement("div",{className:this.props.className},this.renderAddPrincipalButton(),this.renderRemovePrincipalButton(),React.createElement("div",{style:{clear:"both"}}))},renderRemovePrincipalButton:function(){var a=[];return a.push(React.createElement(Button,{name:"Remover",onClick:this.props.handleRemovePrincipal})),a},renderAddPrincipalButton:function(){var a=[];return a.push(React.createElement(Button,{name:"Adicionar",onClick:this.props.handleOpenPrincipalModal})),a}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},UpdatePermissionsButton=React.createClass({displayName:"UpdatePermissionsButton",PropTypes:{name:React.PropTypes.string,className:React.PropTypes.string,clearTheme:React.PropTypes.bool,element:React.PropTypes.string,handleUpdatePermissions:React.PropTypes.func},getDefaultProps:function(){return{name:"Atualizar",className:"btn waves-effect waves-grey button-modal ",clearTheme:!0,element:"a",handleUpdatePermissions:function(){return null}}},render:function(){return React.createElement(Button,_extends({},this.props,{onClick:this.props.handleUpdatePermissions}))}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},Button=React.createClass({displayName:"Button",mixins:[CssClassMixin,RequestHandlerMixin],propTypes:{name:Realize.PropTypes.localizedString,type:React.PropTypes.string,icon:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.object]),style:React.PropTypes.oneOf(["danger","primary","warning","cancel"]),disabled:React.PropTypes.bool,href:React.PropTypes.string,onClick:React.PropTypes.func,actionUrl:React.PropTypes.string,actionData:React.PropTypes.object,isLoading:React.PropTypes.bool,disableWith:Realize.PropTypes.localizedString,confirmsWith:Realize.PropTypes.localizedString,element:React.PropTypes.oneOf(["button","a"]),target:React.PropTypes.string,method:React.PropTypes.string},getDefaultProps:function(){return{themeClassKey:"button",name:"",disabled:!1,isLoading:!1,icon:null,href:null,onClick:null,actionUrl:null,actionData:{},disableWith:"loading",confirmsWith:null,element:"button",method:null}},getInitialState:function(){return{themeClassKey:this.getButtonThemeClassKey()+this.getStyleThemeClassKey()}},getButtonThemeClassKey:function(){var a=this.props.themeClassKey;return this.props.name&&0!==this.props.name.length||(a+=" button.iconOnly"),a},getStyleThemeClassKey:function(){return this.props.style?" button."+this.props.style:""},render:function(){var a="";return a=this.props.isLoading?this.renderLoadingIndicator():this.renderContent(),React.createElement(this.props.element,{className:this.getClassName(),type:this.props.type,disabled:this.props.disabled||this.props.isLoading,href:this.getHref(),onClick:this.handleClick,"data-method":this.getMethod(),"data-confirm":this.getConfirmsWith()},a)},getClassName:function(){var a=this.className();return this.props.disabled&&"a"===this.props.element&&(a="button btn-flat disable-action-button"),a},getHref:function(){return this.props.disabled&&"a"===this.props.element?"javascript:void(0)":this.props.href},getMethod:function(){return this.props.method?this.props.method:null},getConfirmsWith:function(){return this.props.confirmsWith?Realize.t(this.props.confirmsWith):null},renderContent:function(){return[Realize.t(this.props.name),this.renderIcon()]},renderIcon:function(){if(!this.props.icon)return"";var a=null;return a=$.isPlainObject(this.props.icon)?this.props.icon:{type:this.props.icon},React.createElement(Icon,_extends({className:this.getIconClassName()},a,{key:"icon"}))},renderLoadingIndicator:function(){return Realize.t(this.props.disableWith)},handleClick:function(a){var b=this.props.onClick,c=this.props.actionUrl;if($.isFunction(b))this.props.onClick(a);else if(c){var d=this.props.actionData;this.performRequest(c,d,this.getMethod()||"POST")}},getIconClassName:function(){return this.props.name&&0!==this.props.name.length?"right":""}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},ButtonGroup=React.createClass({displayName:"ButtonGroup",mixins:[CssClassMixin],propTypes:{buttons:React.PropTypes.array},getDefaultProps:function(){return{themeClassKey:"button.group",buttons:[]}},render:function(){return React.createElement("div",{className:this.className()},this.renderButtons())},renderButtons:function(){for(var a=this.props.buttons,b=[],c=0;c<a.length;c++){var d=a[c];b.push(React.createElement(Button,_extends({},d,{key:"button_"+c})))}return b}}),Container=React.createClass({displayName:"Container",mixins:[ContainerMixin],propTypes:{className:React.PropTypes.string},getDefaultProps:function(){},render:function(){return React.createElement("div",{className:this.props.className},this.renderChildren())}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},ReactCSSTransitionGroup=React.addons.CSSTransitionGroup,Flash=React.createClass({displayName:"Flash",mixins:[CssClassMixin],propTypes:{type:React.PropTypes.oneOf(["info","warning","error","success"]),message:React.PropTypes.node,dismissTimeout:React.PropTypes.number,canDismiss:React.PropTypes.bool,onDismiss:React.PropTypes.func,dismissed:React.PropTypes.bool},getDefaultProps:function(){return{type:"info",dismissTimeout:-1,canDismiss:!0,dismissed:!1,message:"",onDismiss:function(){return!0}}},getInitialState:function(){return{themeClassKey:"flash flash."+this.props.type,dismissed:this.props.dismissed}},componentWillReceiveProps:function(a){this.setState({dismissed:a.dismissed})},componentDidMount:function(){this.props.dismissTimeout>0&&this.setDismissTimeout()},render:function(){return React.createElement(ReactCSSTransitionGroup,{transitionName:"dismiss",transitionAppear:!0,transitionAppearTimeout:500},this.state.dismissed?"":this.renderFlash())},renderFlash:function(){return React.createElement("div",{className:this.className(),ref:"flash"},React.createElement(FlashContent,this.props),this.props.canDismiss?React.createElement(FlashDismiss,_extends({},this.props,{onClick:this.dismiss})):"")},dismiss:function(){this.setState({dismissed:!0}),this.props.onDismiss()},setDismissTimeout:function(){setTimeout(function(){this.dismiss()}.bind(this),this.props.dismissTimeout)}}),FlashContent=React.createClass({displayName:"FlashContent",mixins:[CssClassMixin],propTypes:{type:React.PropTypes.string,message:React.PropTypes.node},getInitialState:function(){return{themeClassKey:"flash.content flash."+this.props.type+".content"}},render:function(){return React.createElement("div",{className:this.className()},React.createElement("p",null,this.props.message))}}),FlashDismiss=React.createClass({displayName:"FlashDismiss",mixins:[CssClassMixin],propTypes:{type:React.PropTypes.string,text:React.PropTypes.string,onClick:React.PropTypes.func},getInitialState:function(){return{themeClassKey:"flash.dismiss flash."+this.props.type+".content"}},render:function(){return React.createElement("div",{className:this.className(),onClick:this.props.onClick},React.createElement(Icon,{type:"close"}))}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},BulkEditForm=React.createClass({displayName:"BulkEditForm",mixins:[CssClassMixin,UtilsMixin],propTypes:{inputs:React.PropTypes.object,data:React.PropTypes.object,action:React.PropTypes.string,method:React.PropTypes.string,dataType:React.PropTypes.string,contentType:React.PropTypes.string,style:React.PropTypes.string,resource:React.PropTypes.string,submitButton:React.PropTypes.object,otherButtons:React.PropTypes.array,isLoading:React.PropTypes.bool,onSubmit:React.PropTypes.func,onReset:React.PropTypes.func},getDefaultProps:function(){return{inputs:{},data:{},action:"",method:"POST",dataType:void 0,contentType:void 0,submitButton:{name:"Enviar",icon:"send"},otherButtons:[],isLoading:!1,themeClassKey:"form",style:"default",resource:null,onSubmit:function(a,b){},onReset:function(a){}}},getInitialState:function(){for(var a=[],b=0;b<this.props.inputGroups.length;b++){var c=this.props.inputGroups[b].inputs;for(var d in c)a.push(d)}return{disabled:a,inputKeys:this.generateInputIds()}},render:function(){var a=$.extend({},this.props);return delete a.inputGroups,React.createElement(Form,a,this.renderChildren())},generateInputIds:function(){for(var a={},b=0;b<this.props.inputGroups.length;b++){var c=this.props.inputGroups[b].inputs;for(var d in c)a[d]="input_"+d+this.generateUUID()}return a},renderChildren:function(){for(var a=[],b=0;b<this.props.inputGroups.length;b++){var c=this.props.inputGroups[b];this.generateInputs(a,c,b)}return a},generateInputs:function(a,b,c){var d=0;a.push(React.createElement("h5",{key:"header_"+c},b.label));var e=b.inputs;for(var f in e)if(e.hasOwnProperty(f)){var g=e[f];g.id||(g.id=f),g.disabled=-1!==this.state.disabled.indexOf(f);var h=b.resource||this.props.resource,i="enable";h&&(i=i+"_"+h),i=i+"_"+f;var j="enable";h&&(j=j+"["+h+"]"),j=j+"["+f+"]","ids"==f?a.push(React.createElement(Input,_extends({},g,{disabled:!1,data:this.props.data,resource:b.resource||this.props.resource,className:"col m7 s10",key:"value_"+f,ref:"input_"+f,component:"hidden"}))):(a.push(React.createElement(Container,{className:"row"},React.createElement(InputSwitch,{id:i,name:j,onChange:this.handleSwitchChange,className:"switch col l3 m3 s2",offLabel:"",onLabel:"",key:"switch_"+f}),React.createElement(Input,_extends({},g,{data:this.props.data,errors:this.props.errors,resource:b.resource||this.props.resource,formStyle:this.props.formStyle,className:"input-field col offset-s1 l8 m8 s8",clearTheme:!0,key:this.state.inputKeys[f],ref:"input_"+f})))),d++)}return a},handleSwitchChange:function(a){var b=a.target,c=b.id.replace(/^enable_/,"");-1!==b.name.indexOf("[")&&(c=b.name.split("[").pop().replace("]",""));var d=$.extend([],this.state.disabled);b.checked?d.splice(d.indexOf(c),1):d.push(c);var e=this.state.inputKeys;e[c]="input_"+c+this.generateUUID(),this.setState({disabled:d,inputKeys:e})}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},Form=React.createClass({
displayName:"Form",mixins:[CssClassMixin,ContainerMixin,FormErrorHandlerMixin,FormSuccessHandlerMixin],propTypes:{id:React.PropTypes.string,inputs:React.PropTypes.object,data:React.PropTypes.object,action:React.PropTypes.string,method:React.PropTypes.string,dataType:React.PropTypes.string,contentType:React.PropTypes.string,multipart:React.PropTypes.bool,style:React.PropTypes.string,resource:React.PropTypes.string,ajaxSubmit:React.PropTypes.bool,isLoading:React.PropTypes.bool,disabled:React.PropTypes.bool,readOnly:React.PropTypes.bool,submitButton:React.PropTypes.oneOfType([React.PropTypes.object,React.PropTypes.bool]),otherButtons:React.PropTypes.array,onSubmit:React.PropTypes.func,onReset:React.PropTypes.func},getDefaultProps:function(){return{themeClassKey:"form",id:null,inputs:{},data:{},action:"",method:"POST",dataType:void 0,contentType:void 0,multipart:!1,style:"default",resource:null,ajaxSubmit:!0,isLoading:!1,disabled:!1,readOnly:!1,submitButton:{name:"actions.send",icon:"send"},otherButtons:[],onSubmit:function(a,b){},onReset:function(a){}}},getInitialState:function(){return{isLoading:null}},propsToForward:function(){return["resource","data","readOnly","disabled"]},propsToForwardMapping:function(){return{errors:this.state.errors,formStyle:this.props.style}},render:function(){return React.createElement("form",{action:this.props.action,method:"PUT"!=this.props.method||this.props.ajaxSubmit?this.props.method:"POST",encType:this.parseFormEncType(),id:this.props.id,onSubmit:this.handleSubmit,onReset:this.handleReset,className:this.className(),ref:"form"},this.renderFlashErrors(),this.renderFlashSuccess(),this.renderInputs(),this.renderMethodTag(),this.renderChildren(),React.createElement(FormButtonGroup,_extends({},this.propsWithoutCSS(),{isLoading:this.isLoading()})))},renderMethodTag:function(){return React.createElement("input",{name:"_method",type:"hidden",value:this.props.method})},renderInputs:function(){return!this.props.inputs||$.isEmptyObject(this.props.inputs)?"":React.createElement(InputGroup,_extends({},this.propsWithoutCSS(),{formStyle:this.props.style,errors:this.state.errors}))},parseFormEncType:function(){return this.props.multipart?"multipart/form-data":"application/x-www-form-urlencoded"},handleSubmit:function(a){a.nativeEvent.preventDefault();var b=this.serialize();this.props.onSubmit(a,b),FormActions.submit(this.props.id,a,b),a.isDefaultPrevented()||(this.setState({isLoading:!0,errors:{},showSuccessFlash:!1}),this.submit(b))},handleReset:function(a){this.props.onReset(a),FormActions.reset(this.props.id,a)},serialize:function(){var a=ReactDOM.findDOMNode(this.refs.form);return $(a).serializeObject()},submit:function(a){this.props.ajaxSubmit?this.ajaxSubmit(a):this.formSubmit()},ajaxSubmit:function(a){var b={url:this.props.action,method:this.props.method,data:a,success:this.handleSuccess,error:this.handleError};if(this.props.dataType&&(b.dataType=this.props.dataType),this.props.contentType&&(b.contentType=this.props.contentType,"application/json"==b.contentType&&(b.data=JSON.stringify(a))),this.props.multipart){var c=new FormData(ReactDOM.findDOMNode(this.refs.form)),d={data:c,enctype:"multipart/form-data",processData:!1,contentType:!1};b=$.extend({},b,d)}$.ajax(b)},formSubmit:function(){var a=ReactDOM.findDOMNode(this.refs.form);a.submit()},isLoading:function g(){var g=this.state.isLoading;return null===g&&(g=this.props.isLoading),g}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},FormButtonGroup=React.createClass({displayName:"FormButtonGroup",mixins:[CssClassMixin],propTypes:{inputs:React.PropTypes.object,submitButton:React.PropTypes.oneOfType([React.PropTypes.object,React.PropTypes.bool]),otherButtons:React.PropTypes.array,isLoading:React.PropTypes.bool},getDefaultProps:function(){return{themeClassKey:"form.buttonGroup",inputs:{},submitButton:{name:"actions.send",icon:"send"},otherButtons:[],isLoading:!1}},render:function(){return React.createElement("div",{className:this.className()},this.renderOtherButtons(),this.renderSubmitButton())},renderOtherButtons:function(){if(!_.isEmpty(this.props.inputs)&&this.isAllInputsHidden())return"";for(var a=this.props.otherButtons,b=[],c=0;c<a.length;c++){var d=a[c];b.push(React.createElement(Button,_extends({},d,{key:d.name})))}return b},renderSubmitButton:function(){if(!_.isEmpty(this.props.inputs)&&this.isAllInputsHidden()||!this.props.submitButton)return"";var a=[];return a.push(React.createElement(Button,_extends({},this.submitButtonProps(),{ref:"submitButton",key:"submit_button"}))),a},isAllInputsHidden:function(){var a=!0,b=this.props.inputs;for(var c in b)if(b.hasOwnProperty(c)){var d=b[c];if("hidden"!==d.component)return a=!1}return a},submitButtonProps:function(){var a=this.props.isLoading;return $.extend({},this.props.submitButton,{type:"submit",disabled:a,isLoading:a})}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},InputGroup=React.createClass({displayName:"InputGroup",mixins:[CssClassMixin],propTypes:{inputs:React.PropTypes.object,data:React.PropTypes.object,errors:React.PropTypes.object,resource:React.PropTypes.string,disabled:React.PropTypes.bool,readOnly:React.PropTypes.bool,label:React.PropTypes.string,separator:React.PropTypes.bool,formStyle:React.PropTypes.string,wrapperClassName:React.PropTypes.string},getDefaultProps:function(){return{inputs:{},data:{},errors:{},formStyle:"default",label:null,separator:!1,disabled:!1,readOnly:!1,themeClassKey:"form.inputGroup",wrapperClassName:"wrapper_input_group"}},render:function(){return React.createElement("div",{className:this.props.wrapperClassName},React.createElement("div",{className:this.inputGroupClassName()},this.renderLabel(),this.renderInputs(),this.props.children),this.renderDivider())},inputGroupClassName:function(){var a=this.className();return null!==this.props.label&&(a+=" "+Realize.themes.getCssClass("form.inputGroup.section")),a},renderInputs:function(){var a=this.props.inputs,b=[],c=0;for(var d in a)if(a.hasOwnProperty(d)){var e=a[d];e.id||(e.id=d),b.push(React.createElement(Input,_extends({disabled:this.props.disabled,readOnly:this.props.readOnly},e,{data:this.props.data,errors:this.props.errors,resource:this.props.resource,formStyle:this.props.formStyle,key:"input_"+c,ref:"input_"+c}))),c++}return b},renderLabel:function(){return null===this.props.label?"":React.createElement("h5",null,this.props.label)},renderDivider:function(){if(!this.props.separator)return"";var a=Realize.themes.getCssClass("form.inputGroup.divider");return React.createElement("div",{className:a},React.createElement("hr",null))}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},Grid=React.createClass({displayName:"Grid",mixins:[CssClassMixin,RequestHandlerMixin,RestActionsMixin,GridActionsMixin],propTypes:{url:React.PropTypes.string,eagerLoad:React.PropTypes.bool,resource:React.PropTypes.string,paginationConfigs:React.PropTypes.object,sortConfigs:React.PropTypes.object,sortData:React.PropTypes.object,filter:React.PropTypes.object,columns:React.PropTypes.object,data:React.PropTypes.object,emptyMessage:Realize.PropTypes.localizedString,dataRowsParam:React.PropTypes.string,countParam:React.PropTypes.string,selectedRowIdsParam:React.PropTypes.string,dataRowIdField:React.PropTypes.string,isLoading:React.PropTypes.bool,selectable:React.PropTypes.bool,tableClassName:React.PropTypes.string,onLoadSuccess:React.PropTypes.func,onLoadError:React.PropTypes.func,rowSelectableFilter:React.PropTypes.func,customTableHeader:React.PropTypes.string,forceShowSelectAllButton:React.PropTypes.bool,onClickRow:React.PropTypes.func,tableRowCssClass:React.PropTypes.func,paginationOnTop:React.PropTypes.bool,clearThemeTable:React.PropTypes.bool,pagination:React.PropTypes.bool,perPageOptions:React.PropTypes.array},getDefaultProps:function(){return{themeClassKey:"grid",eagerLoad:!1,paginationConfigs:{},sortConfigs:{},sortData:{},filter:{},columns:{},dataRowsParam:"data",countParam:"count",selectedRowIdsParam:"rowIds",dataRowIdField:"id",isLoading:!1,selectable:!0,rowSelectableFilter:null,customTableHeader:null,forceShowSelectAllButton:!1,onClickRow:null,tableRowCssClass:null,paginationOnTop:!0,clearThemeTable:!1,pagination:!0,onLoadSuccess:function(a){},onLoadError:function(a,b,c){},data:{dataRows:[],count:0}}},getInitialState:function(){return{dataRows:this.props.data.dataRows,selectedRowIds:[],allSelected:!1,count:this.props.data.count,page:1,perPage:this.initialPerPage(),filterData:{},sortData:this.props.sortData,gridIsLoading:this.props.isLoading}},componentDidMount:function(){this.setState({filterData:this.getInitialFilterData()},function(){this.props.eagerLoad&&this.loadData()}.bind(this))},backToInitialState:function(){this.setState({selectedRowIds:[],allSelected:!1,page:1}),this.setState({filterData:this.getInitialFilterData()},function(){this.loadData()}.bind(this))},initialPerPage:function(){return this.paginationConfigs().perPage},render:function(){return React.createElement("div",{className:this.gridClassName(),ref:"grid"},this.renderFilter(),this.renderPaginationOnTop(),this.renderTable(),this.renderPagination())},renderPaginationOnTop:function(){return this.props.paginationOnTop?this.renderPagination():void 0},gridClassName:function(){var a=this.className();return this.state.gridIsLoading&&(a+=" loading"),a},paginationConfigs:function(){return $.extend({},Realize.config.grid.pagination,this.props.paginationConfigs)},sortConfigs:function(){return $.extend({},Realize.config.grid.sort,this.props.sortConfigs)},getInitialFilterData:function(){var a=ReactDOM.findDOMNode(this.refs.filter),b=$(a).find("form");return b.serializeObject()},renderFilter:function(){return $.isEmptyObject(this.props.filter)?"":React.createElement(GridFilter,_extends({action:this.props.url},this.props.filter,{isLoading:this.state.gridIsLoading,onSubmit:this.onFilterSubmit,ref:"filter"}))},renderTable:function(){return React.createElement(GridTable,{resource:this.props.resource,columns:this.props.columns,sortConfigs:this.sortConfigs(),sortData:this.state.sortData,dataRows:this.state.dataRows,selectable:this.props.selectable,selectedRowIds:this.state.selectedRowIds,selectedRowIdsParam:this.props.selectedRowIdsParam,dataRowIdField:this.props.dataRowIdField,allSelected:this.state.allSelected,allSelectedData:this.state.filterData,count:this.state.count,actionButtons:this.getActionButtons(),tableClassName:this.props.tableClassName,onSort:this.onSort,onSelect:this.selectDataRows,onRemoveSelection:this.removeSelection,onSelectAll:this.selectAllRows,rowSelectableFilter:this.props.rowSelectableFilter,customTableHeader:this.props.customTableHeader,forceShowSelectAllButton:this.props.forceShowSelectAllButton,onClickRow:this.props.onClickRow,rowHref:this.getRowHref(),tableRowCssClass:this.props.tableRowCssClass,clearThemeTable:this.props.clearThemeTable,emptyMessage:this.props.emptyMessage})},renderPagination:function(){return this.props.pagination?React.createElement(GridPagination,_extends({},this.paginationConfigs(),{perPage:this.state.perPage,page:this.state.page,count:this.state.count,onPagination:this.onPagination,onChangePerPage:this.onChangePerPage,pageRowsCount:this.state.dataRows.length})):void 0},onPagination:function(a){this.state.page=a,this.state.allSelected&&(this.state.selectedRowIds=[]),this.state.allSelected=!1,this.loadData()},onChangePerPage:function(a){this.state.perPage=a,this.paginationConfigs().perPage=a,this.state.allSelected&&(this.state.selectedRowIds=[]),this.state.allSelected=!1,this.loadData()},onFilterSubmit:function(a,b){a.preventDefault(),this.state.selectedRowIds=[],this.state.allSelected=!1,this.state.filterData=b,this.state.page=1,this.loadData()},onSort:function(a){this.state.sortData=a,this.state.page=1,this.loadData()},loadData:function(){this.setState({gridIsLoading:!0});var a=this.buildPostData(),b=this.props.filter,c=b.method||"GET",d=b.dataType||"json";$.ajax({url:this.getRestActionUrl("index"),method:c,dataType:d,data:a,success:this.handleLoad,error:this.handleLoadError})},handleLoad:function(a){this.setState({gridIsLoading:!1,dataRows:a[this.props.dataRowsParam],count:a[this.props.countParam]},function(){this.props.onLoadSuccess(a)}.bind(this))},handleLoadError:function(a,b,c){this.props.onLoadError(a,b,c),this.setState({gridIsLoading:!1}),console.log("Grid Load Error:"+c)},buildPostData:function(){var a=$.extend({},this.state.filterData);return $.extend(a,this.buildPaginationPostData()),$.isEmptyObject(this.state.sortData)||$.extend(a,this.buildSortPostData()),a},buildPaginationPostData:function(){var a={},b=this.paginationConfigs().param,c="per_page";return a[b]=this.state.page,a[c]=this.state.perPage,a},buildSortPostData:function(){var a=this.sortConfigs(),b=a.param,c=a.directionParam,d={};return d[b]=this.parseSortPostDataValue(),d[c]=this.state.sortData.direction,d},parseSortPostDataValue:function(){var a=this.sortConfigs().fieldValueFormat,b=this.state.sortData.field,c=this.state.sortData.direction;return a?a.replace(/%\{field}/,b).replace(/%\{direction}/,c):b},selectDataRows:function(a,b){a.preventDefault(),this.setState({selectedRowIds:b,allSelected:!1})},removeSelection:function(a){a.preventDefault(),this.setState({selectedRowIds:[],allSelected:!1})},selectAllRows:function(a){a.preventDefault(),this.setState({allSelected:!0})}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},GridFilter=React.createClass({displayName:"GridFilter",mixins:[CssClassMixin],propTypes:{inputs:React.PropTypes.object,action:React.PropTypes.string,method:React.PropTypes.string,submitButton:React.PropTypes.object,clearButton:React.PropTypes.object,onSuccess:React.PropTypes.func,onError:React.PropTypes.func,onSubmit:React.PropTypes.func,onReset:React.PropTypes.func,isLoading:React.PropTypes.bool,collapsible:React.PropTypes.bool},getDefaultProps:function(){return{method:"GET",collapsible:!1,submitButton:{name:"actions.filter",icon:"search"},clearButton:{name:"actions.clear",type:"reset",style:"cancel"},onSuccess:function(a){return!0},onError:function(a,b,c){return!0},onSubmit:function(a){return!0}}},getInitialState:function(){return{themeClassKey:"grid.filter.wrapper"}},render:function(){return React.createElement("div",{className:this.className()},this.renderFilters())},renderFilters:function(){return this.props.collapsible?this.renderCollapsibleFilter():this.renderFormFilters()},componentDidUpdate:function(){var a=ReactDOM.findDOMNode(this.refs.collapsible);a&&$(a).collapsible()},renderCollapsibleFilter:function(){var a=[];return a.push(React.createElement("ul",{className:"collapsible","data-collapsible":"accordion",ref:"collapsible",key:"collapsible_form"},React.createElement("li",null,React.createElement("div",{className:"collapsible-header"},React.createElement("span",null,"Filtrar"),React.createElement("i",{className:"material-icons"},"filter_list")),React.createElement("div",{className:"collapsible-body"},this.renderFormFilters())))),a},renderFormFilters:function(){return React.createElement(Form,_extends({},this.props,{otherButtons:[this.props.clearButton],style:"filter",ref:"form"}))},serialize:function(){return this.refs.form.serialize()}}),GridPagination=React.createClass({displayName:"GridPagination",mixins:[CssClassMixin],propTypes:{count:React.PropTypes.number,page:React.PropTypes.number,perPage:React.PropTypes.number,window:React.PropTypes.number,onPagination:React.PropTypes.func,onChangePerPage:React.PropTypes.func,pageRowsCount:React.PropTypes.number,type:React.PropTypes.string,perPageOptions:React.PropTypes.array},getDefaultProps:function(){return{themeClassKey:"grid.pagination",onPagination:function(a){return!0},onChangePerPage:function(a){return!0}}},render:function(){return React.createElement("div",{className:this.className()},this.renderPagination(),this.renderRangePagination(),this.renderPerPage())},renderRangePagination:function(){return React.createElement("div",{className:"range_pagination"},React.createElement("span",null,this.rangePaginationText()))},renderPerPage:function(){return React.createElement("div",{className:"per_page"},React.createElement(Input,{value:this.props.perPage,component:"select",includeBlank:!1,clearTheme:!0,className:"form__input input-field",options:this.props.perPageOptions,onChange:this.changePerPage}))},renderPagination:function(){var a=this.props.count,b=this.props.pageRowsCount;return b>=a?null:React.createElement("div",null,React.createElement(Pagination,{page:this.props.page,count:this.props.count,perPage:this.props.perPage,window:this.props.window,onPagination:this.props.onPagination,type:this.props.type}))},changePerPage:function(a){var b=parseInt(a.currentTarget.value);this.props.onChangePerPage(b)},rangePaginationText:function(){var a=this.props.perPage,b=this.props.page,c=this.props.pageRowsCount,d=a*b-(a-1),e=a>c?this.props.count:a*b,f=this.props.count;return d+" - "+e+" de "+f}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},GridTable=React.createClass({displayName:"GridTable",mixins:[CssClassMixin],getDefaultProps:function(){return{themeClassKey:"grid.table"}},render:function(){return React.createElement("div",{className:this.className()},React.createElement(Table,_extends({},this.propsWithoutCSS(),{className:this.props.tableClassName,clearTheme:this.props.clearThemeTable})))}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},GridForm=React.createClass({displayName:"GridForm",mixins:[CssClassMixin,UtilsMixin,RestActionsMixin],propTypes:{url:React.PropTypes.string,paginationConfigs:React.PropTypes.object,sortConfigs:React.PropTypes.object,sortData:React.PropTypes.object,filter:React.PropTypes.object,columns:React.PropTypes.object,data:React.PropTypes.object,dataRowsParam:React.PropTypes.string,countParam:React.PropTypes.string,actionUrls:React.PropTypes.object,actionButtons:React.PropTypes.object,form:React.PropTypes.object,createButton:React.PropTypes.object,updateButton:React.PropTypes.object,cancelButton:React.PropTypes.object,isLoading:React.PropTypes.bool,selectable:React.PropTypes.bool,eagerLoad:React.PropTypes.bool,readOnly:React.PropTypes.bool,formComponent:React.PropTypes.func,onSubmit:React.PropTypes.func,onReset:React.PropTypes.func,onSuccess:React.PropTypes.func,onError:React.PropTypes.func,onLoadSuccess:React.PropTypes.func,onLoadError:React.PropTypes.func},getDefaultProps:function(){return{form:{},actionButtons:null,themeClassKey:"gridForm",isLoading:!1,createButton:{name:"actions.add",icon:"add"},updateButton:{name:"actions.update",icon:"edit"},cancelButton:{name:"actions.cancel",style:"cancel"},selectable:!0,eagerLoad:!0,readOnly:!1,formComponent:Form,onSubmit:function(a,b){},onReset:function(a){},onSuccess:function(a,b,c){return!0},onError:function(a,b,c){return!0},onLoadSuccess:function(a){},onLoadError:function(a,b,c){}}},getInitialState:function(){return{formAction:"create",selectedDataRow:null,selectedRowId:null,isLoading:this.props.isLoading}},render:function(){return React.createElement("div",{className:this.className()},React.createElement("div",{className:this.className()+"__form"},this.renderForm()),React.createElement("div",{className:this.className()+"__grid"},React.createElement(Grid,_extends({},this.propsWithoutCSS(),{actionButtons:this.getActionButtons(),ref:"grid"}))))},renderForm:function(){if(!this.props.readOnly){var a=React.__spread({style:"filter"},this.props.form,{action:this.getFormAction(),data:this.state.selectedDataRow,method:this.getFormMethod(),submitButton:this.getFormSubmitButton(),otherButtons:this.getFormOtherButtons(),onSubmit:this.onSubmit,onReset:this.onReset,onSuccess:this.onSuccess,onError:this.onError,key:"form_"+this.generateUUID(),ref:"form"});return React.createElement(this.props.formComponent,a,null)}},getFormAction:function(){return this.getRestActionUrl(this.state.formAction,this.state.selectedRowId)},getFormMethod:function(){return this.getRestActionMethod(this.state.formAction)},getFormSubmitButton:function(){return"create"==this.state.formAction?this.props.createButton:"update"==this.state.formAction?this.props.updateButton:""},getFormOtherButtons:function(){if("update"==this.state.formAction){var a=$.extend({},this.props.cancelButton,{type:"reset"});return[a]}return[]},getActionButtons:function(){var a=this.props.actionButtons||{};return a.member||(a.member=this.getDefaultMemberActionButtons()),a.collection||(a.collection=this.getDefaultCollectionActionButtons()),a},getDefaultMemberActionButtons:function(){return this.props.readOnly?[]:[{icon:"edit",onClick:this.editAction},{icon:"destroy",onClick:this.destroyAction}]},getDefaultCollectionActionButtons:function(){return[]},onSubmit:function(a,b){this.props.onSubmit(a,b)},onReset:function(a){this.setState({formAction:"create",selectedRowId:null,selectedDataRow:null}),this.clearFormErrors(),this.props.onReset(a)},onSuccess:function(a,b,c){this.props.onSuccess(a,b,c)&&(this.loadGridData(),this.resetForm())},onError:function(a,b,c){return this.props.onError(a,b,c)},editAction:function(a,b,c){this.setState({formAction:"update",selectedRowId:b,selectedDataRow:c}),this.clearFormErrors()},destroyAction:function(a,b){var c=this.getRestActionUrl("destroy",b),d=this.getRestActionMethod("destroy");(!this.props.destroyConfirm||confirm(this.props.destroyConfirm))&&(this.setState({isLoading:!0}),this.resetForm(),$.ajax({url:c,method:d,success:this.handleDestroy,error:this.handleDestroyError}))},handleDestroy:function(a){this.loadGridData(a)},handleDestroyError:function(a,b,c){this.setState({isLoading:!1}),console.log(c)},loadGridData:function(){var a=this.refs.grid;a.loadData()},resetForm:function(){var a=ReactDOM.findDOMNode(this.refs.form);a.reset()},clearFormErrors:function(){var a=this.refs.form;a.clearErrors()}}),Header=React.createClass({displayName:"Header",mixins:[CssClassMixin],getDefaultProps:function(){return{themeClassKey:"header",wrapperClassName:"nav-wrapper container"}},componentDidMount:function(){$(".button-collapse").sideNav({edge:"right",closeOnClick:!0}),$(".collapsible").collapsible()},render:function(){return React.createElement("nav",{className:this.className(),role:"navigation"},React.createElement("div",{className:this.props.wrapperClassName},this.props.children))}}),HeaderButton=React.createClass({displayName:"HeaderButton",propTypes:{imgSrc:React.PropTypes.string,imgAlt:React.PropTypes.string,icon:React.PropTypes.string,iconAlign:React.PropTypes.string,text:React.PropTypes.string,href:React.PropTypes.string,target:React.PropTypes.string,onClick:React.PropTypes.func,ref:React.PropTypes.string},getDefaultProps:function(){return{iconAlign:" "}},render:function(){var a="";return a=this.props.imgSrc?this.renderImage():this.renderButton()},renderButton:function(){return React.createElement("a",{href:this.props.href,ref:this.props.ref,onClick:this.props.onClick,target:this.props.target},React.createElement("i",{className:"material-icons "+this.props.iconAlign},this.props.icon),this.props.text)},renderImage:function(){return React.createElement("a",{className:"brand-logo",href:this.props.href},React.createElement("img",{src:this.props.imgSrc,alt:this.props.imgAlt}))}}),HeaderMenu=React.createClass({displayName:"HeaderMenu",propTypes:{items:React.PropTypes.array,leftIcon:React.PropTypes.string,rightIcon:React.PropTypes.string,text:React.PropTypes.string,href:React.PropTypes.string,ref_id:React.PropTypes.string},getDefaultProps:function(){return{items:[],leftIcon:"",rightIcon:"",ref_id:"headerMenu"}},render:function(){var a=""!==this.props.leftIcon?React.createElement("i",{className:"material-icons left"},this.props.leftIcon):"",b=""!==this.props.rightIcon?React.createElement("i",{className:"material-icons right"},this.props.rightIcon):"";return React.createElement("div",null,React.createElement("a",{href:this.props.href,ref:"readerMenu",onClick:this.props.onClick,target:this.props.target,"data-activates":this.props.ref_id},a,this.props.text,b),this.renderMenu())},renderMenu:function(){return React.createElement(Menu,{ref_id:this.props.ref_id,className:"dropdown-content",items:this.props.items},this.props.children)},componentDidMount:function(){$(ReactDOM.findDOMNode(this.refs.readerMenu)).dropdown()}}),HeaderSection=React.createClass({displayName:"HeaderSection",propTypes:{align:React.PropTypes.string,id:React.PropTypes.string},getDefaultProps:function(){return{align:"left",className:"hide-on-med-and-down"}},render:function(){return React.createElement("ul",{className:this.props.className+" "+this.props.align,id:this.props.id},this.renderChildren())},renderChildren:function(){return React.Children.map(this.props.children,function(a,b){return React.createElement("li",{key:"item_"+b},a)})}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},Icon=React.createClass({displayName:"Icon",mixins:[CssClassMixin],propTypes:{type:React.PropTypes.string},getDefaultProps:function(){return{type:""}},getInitialState:function(){return{themeClassKey:"icon"}},render:function(){return React.createElement("i",_extends({className:this.className()},this.propsWithoutCSS()),this.iconType())},iconType:function h(){var h=Realize.themes.getProp("icon."+this.props.type);return h||(h=this.props.type),h}}),Spinner=React.createClass({displayName:"Spinner",propTypes:{size:React.PropTypes.string,color:React.PropTypes.string,active:React.PropTypes.bool,className:React.PropTypes.string},getDefaultProps:function(){return{size:"small",color:"green",active:!0,className:""}},render:function(){return React.createElement("div",{className:this.wrapperClassName()},React.createElement("div",{className:this.layerClassName()},React.createElement("div",{className:"circle-clipper left"},React.createElement("div",{className:"circle"})),React.createElement("div",{className:"gap-patch"},React.createElement("div",{className:"circle"})),React.createElement("div",{className:"circle-clipper right"},React.createElement("div",{className:"circle"}))))},wrapperClassName:function(){var a="spinner preloader-wrapper "+this.props.size;return this.props.active&&(a+=" active"),a+=" "+this.props.className},layerClassName:function(){var a="spinner-layer spinner-"+this.props.color+"-only";return a}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},InputAutocomplete=React.createClass({displayName:"InputAutocomplete",mixins:[CssClassMixin,InputComponentMixin,SelectComponentMixin,InputSelectActionsListenerMixin],propTypes:{maxOptions:React.PropTypes.number,maxOptionsParam:React.PropTypes.string,searchParam:React.PropTypes.string,actionButtons:React.PropTypes.array},getDefaultProps:function(){return{maxOptions:99,maxOptionsParam:"limit",searchParam:"query",themeClassKey:"input.autocomplete",actionButtons:[]}},getInitialState:function(){return{active:0,searchValue:""}},componentWillMount:function(){this.state.loadParams[this.props.maxOptionsParam]=this.props.maxOptions},componentDidMount:function(){var a=ReactDOM.findDOMNode(this.refs.select),b=$(a.form);b.on("reset",this.clearSelection)},componentWillUnmount:function(){var a=ReactDOM.findDOMNode(this.refs.select),b=$(a.form);b.off("reset",this.clearSelection)},render:function(){return React.createElement("div",{className:this.className(),ref:"container"},React.createElement(InputAutocompleteSelect,_extends({},this.propsWithoutCSS(),{disabled:this.isDisabled(),selectedOptions:this.selectedOptions(),onFocus:this.showResult})),React.createElement(InputAutocompleteResult,{id:this.props.id,selectedOptions:this.selectedOptions(),options:this.state.options,active:this.state.active,searchValue:this.state.searchValue,actionButtons:this.props.actionButtons,onKeyDown:this.handleSearchNavigation,onChange:this.searchOptions,onSelect:this.handleSelect,onClear:this.clearSelection,onOptionMouseEnter:this.handleOptionMouseEnter,ref:"result"}),React.createElement(InputAutocompleteValues,{id:this.props.id,name:this.props.name,multiple:this.props.multiple,selectedOptions:this.selectedOptions(),ref:"select"}))},handleDocumentClick:function(a){var b=$(ReactDOM.findDOMNode(this.refs.result)),c=$(ReactDOM.findDOMNode(this.refs.container)),d=b.find("input[type=text]")[0];0===c.find(a.target).length?this.hideResult():d.focus()},hideResult:function(){$(document).off("click",this.handleDocumentClick);var a=$(ReactDOM.findDOMNode(this.refs.result)),b=a.find("input[type=text]");a.hide(),b.val(""),this.state.loadParams[this.props.searchParam]="",this.setState({active:0})},showResult:function(a){if(this.state.disabled||this.props.readOnly){var b=a.currentTarget;return void b.blur()}$(document).on("click",this.handleDocumentClick);var c=$(ReactDOM.findDOMNode(this.refs.result)),d=c.find("input[type=text]")[0];c.show(),d.focus()},searchOptions:function(a){var b=$(a.currentTarget);this.state.searchValue=b.val(),this.state.loadParams[this.props.searchParam]=this.state.searchValue,this.loadOptions()},handleSearchNavigation:function(a){var b=a.keyCode;38==b?this.moveActiveUp():40==b?this.moveActiveDown():13==b?(a.preventDefault(),this.selectOption()):(27==b||9==b)&&this.hideResult()},moveActiveUp:function(){this.setState({active:Math.max(0,this.state.active-1)})},moveActiveDown:function(){var a=$(ReactDOM.findDOMNode(this.refs.result)),b=a.find("li").length;this.setState({active:Math.min(b-1,this.state.active+1)})},selectOption:function(){var a=this.refs.result,b=a.refs.list,c=b.refs["option_"+this.state.active];this.handleSelect({name:c.props.name,value:c.props.value,showOnTop:!1})},clearSelection:function(){this.setState({value:[]},this.triggerDependableChanged),this.props.onSelect&&this.props.onSelect(this.props.id,[],[])},handleOptionMouseEnter:function(a){this.setState({active:a})},handleSelect:function(a){var b=this.state.value.indexOf(a.value);0>b?(this.props.multiple||(this.state.value=[]),this.state.value.push(a.value)):this.state.value.splice(b,1),this.forceUpdate(),this.triggerDependableChanged(),this.props.onSelect&&this.props.onSelect(this.props.id,this.state.value,this.state.loadData)}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},InputAutocompleteList=React.createClass({displayName:"InputAutocompleteList",mixins:[CssClassMixin],propTypes:{id:React.PropTypes.string,selectedOptions:React.PropTypes.array,options:React.PropTypes.array,active:React.PropTypes.number,onSelect:React.PropTypes.func,onOptionMouseEnter:React.PropTypes.func},getDefaultProps:function(){return{themeClassKey:"input.autocomplete.list",options:[],selectedOptions:[],onSelect:function(){return!0},onOptionMouseEnter:function(){return!0}}},render:function(){return React.createElement("ul",{className:this.className()},this.renderOptions())},renderOptions:function(){for(var a=[].concat(this.onTopSelectedOptions(),this.otherOptions()),b=[],c=0;c<a.length;c++){var d=a[c];b.push(React.createElement(InputAutocompleteOption,_extends({},d,{onSelect:this.props.onSelect,onOptionMouseEnter:this.props.onOptionMouseEnter,position:c,isActive:c==this.props.active,id:this.props.id,key:d.name,ref:"option_"+c})))}return b},onTopSelectedOptions:function(){
var a=$.map(this.props.selectedOptions,function(a){var b=$.extend({},a);return b.selected=!0,b});return $.grep(a,function(a){return!!a.showOnTop})},otherOptions:function i(){var i=$.map(this.props.options,function(a){var b=$.extend({},a),c=$.grep(this.props.selectedOptions,function(a){return a.value==b.value})[0];return c&&(b.selected=!0,b.showOnTop=c.showOnTop),b}.bind(this));return $.grep(i,function(a){return!a.showOnTop})}}),InputAutocompleteOption=React.createClass({displayName:"InputAutocompleteOption",mixins:[CssClassMixin,UtilsMixin],propTypes:{id:React.PropTypes.string,name:React.PropTypes.string,value:React.PropTypes.node,selected:React.PropTypes.bool,position:React.PropTypes.number,isActive:React.PropTypes.bool,onSelect:React.PropTypes.func,onOptionMouseEnter:React.PropTypes.func},getDefaultProps:function(){return{selected:!1,onSelect:function(){return!0},onOptionMouseEnter:function(){return!0}}},getInitialState:function(){return{themeClassKey:this.parseThemeClassKey(this.props.isActive)}},componentWillReceiveProps:function(a){this.setState({themeClassKey:this.parseThemeClassKey(a.isActive)})},parseThemeClassKey:function(a){var b="input.autocomplete.option";return a&&(b+=" input.autocomplete.option.active"),b},render:function(){return React.createElement("li",{className:this.className(),onClick:this.handleSelect,onMouseEnter:this.handleMouseEnter},React.createElement(InputCheckbox,{id:this.parseOptionId(),checked:this.props.selected,onChange:this.disableEvent,onClick:this.disableEvent,key:this.generateUUID()}),React.createElement(Label,{id:this.parseOptionId(),name:this.props.name}))},handleSelect:function(a){var b={name:this.props.name,value:this.props.value,showOnTop:!1};this.props.onSelect(b),a.stopPropagation()},handleMouseEnter:function(){this.props.onOptionMouseEnter(this.props.position)},disableEvent:function(a){a.stopPropagation(),a.preventDefault()},parseOptionId:function(){return"autocomplete_option_"+this.props.id+"_"+this.props.value}}),InputAutocompleteResult=React.createClass({displayName:"InputAutocompleteResult",mixins:[CssClassMixin],propTypes:{id:React.PropTypes.string,options:React.PropTypes.array,selectedOptions:React.PropTypes.array,active:React.PropTypes.number,searchValue:React.PropTypes.string,actionButtons:React.PropTypes.array,onKeyDown:React.PropTypes.func,onChange:React.PropTypes.func,onSelect:React.PropTypes.func,onClear:React.PropTypes.func,onOptionMouseEnter:React.PropTypes.func},getDefaultProps:function(){return{themeClassKey:"input.autocomplete.result",options:[],selectedOptions:[]}},render:function(){return React.createElement("div",{className:this.className()},this.renderSearchInput(),this.renderClearButton(),this.renderResult(),this.renderActionButtons())},renderSearchInput:function(){return React.createElement("div",{className:"input-autocomplete__search"},React.createElement(Icon,{type:"search",className:"prefix"}),React.createElement(InputText,{onKeyDown:this.props.onKeyDown,value:this.props.searchValue,onChange:this.props.onChange,autoComplete:"off"}))},renderClearButton:function(){return React.createElement("a",{href:"#!",className:"input-autocomplete__clear-button",onClick:this.props.onClear},Realize.t("inputs.autocomplete.clear"))},renderResult:function(){var a=this.props.options;return a.length>0?this.renderList():this.renderEmptyMessage()},renderList:function(){return React.createElement(InputAutocompleteList,{id:this.props.id,selectedOptions:this.props.selectedOptions,options:this.props.options,active:this.props.active,onSelect:this.props.onSelect,onOptionMouseEnter:this.props.onOptionMouseEnter,ref:"list"})},renderEmptyMessage:function(){return React.createElement("div",{className:"input-autocomplete__empty-message"},Realize.t("inputs.autocomplete.emptyResult"))},renderActionButtons:function(){for(var a=[],b=this.props.actionButtons,c=0;c<b.length;c++){var d=b[c];a.push(this.renderActionButton(d,c))}return React.createElement("div",{className:"input-autocomplete__action-buttons"},a)},renderActionButton:function renderActionButton(actionButtonProps,i){var buttonComponent=actionButtonProps.component||"Button",buttonProps=React.__spread({},actionButtonProps,{themeClassKey:"input.autocomplete.actionButton",element:"a",key:"action_"+i});return React.createElement(eval(buttonComponent),buttonProps)}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},InputAutocompleteSelect=React.createClass({displayName:"InputAutocompleteSelect",mixins:[CssClassMixin,UtilsMixin,InputComponentMixin],propTypes:{selectedOptions:React.PropTypes.array,placeholder:Realize.PropTypes.localizedString},getDefaultProps:function(){return{selectedOptions:[],themeClassKey:"input.autocomplete.select",placeholder:"select"}},getInitialState:function(){return{options:[]}},render:function(){return React.createElement("div",null,React.createElement("div",{className:this.className()},React.createElement("span",{className:"caret",onClick:this.focusSelect},"▼"),React.createElement(InputText,{id:this.selectId(),value:this.renderSelectedOptions(),disabled:this.props.disabled,placeholder:this.props.placeholder,onFocus:this.props.onFocus,errors:this.props.errors,ref:"select",key:"autocomplete_select_"+this.generateUUID()})),React.createElement(Label,_extends({},this.propsWithoutCSS(),{id:this.selectId()})))},renderSelectedOptions:function(){var a=this.props.selectedOptions;return $.map(a,function(a){return a.name}).join(", ")},selectId:function(){return"autocomplete_select_"+this.props.id},focusSelect:function(){var a=ReactDOM.findDOMNode(this.refs.select);a.focus()}}),InputAutocompleteValues=React.createClass({displayName:"InputAutocompleteValues",propTypes:{id:React.PropTypes.string,name:React.PropTypes.string,multiple:React.PropTypes.bool,selectedOptions:React.PropTypes.array},getDefaultProps:function(){return{multiple:!1,selectedOptions:[]}},render:function(){return React.createElement("select",{multiple:!0,id:this.props.id,name:this.valueInputName(),value:this.selectedOptionsValues(),readOnly:!0,style:{display:"none"}},this.renderValueInputs())},selectedOptionsValues:function(){return $.map(this.props.selectedOptions,function(a){return a.value})},renderValueInputs:function(){for(var a=[],b=this.props.selectedOptions,c=0;c<b.length;c++){var d=b[c];a.push(React.createElement("option",{value:d.value,key:d.name}))}return a},valueInputName:function(){var a=this.props.name;return this.props.multiple&&(a+="[]"),a}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},InputCheckbox=React.createClass({displayName:"InputCheckbox",mixins:[CssClassMixin,InputComponentMixin,CheckboxComponentMixin],propTypes:{renderAsIndeterminate:React.PropTypes.bool},getDefaultProps:function(){return{themeClassKey:"input.checkbox"}},render:function(){return React.createElement("input",_extends({},this.props,{checked:this.state.checked,className:this.inputClassName(),onChange:this._handleCheckboxChange,type:"checkbox",ref:"input"}))}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},InputCheckboxGroup=React.createClass({displayName:"InputCheckboxGroup",mixins:[CssClassMixin,InputComponentMixin,SelectComponentMixin],propTypes:{name:React.PropTypes.string,align:React.PropTypes.oneOf(["vertical","horizontal"]),currentValues:React.PropTypes.string},getDefaultProps:function(){return{themeClassKey:"input.checkbox",name:"",align:"vertical"}},getInitialState:function(){return{currentValues:this.props.currentValues}},renderChildItems:function(){var a=React.Children.map(this.props.children,function(a){return null!==a&&"input"==a.props.children[0].type.displayName?a:void 0});return a},renderPropItems:function(){for(var a=[],b=this.state.options,c=0;c<b.length;c++){var d=b[c],e=d.filled?"filled-in":"";d.id=this.props.id+"_"+c,a.push(React.createElement("p",{key:"p_input"+c},React.createElement(InputCheckbox,_extends({},d,{name:this.props.name,className:e,checked:this.isChecked(d)})),React.createElement(Label,d)))}return a},render:function(){return React.createElement("div",{className:"input-checkbox-group align-"+this.props.align},this.renderChildItems(),this.renderPropItems())},isChecked:function(a){var b=this.state.currentValues;return $.isArray(b)||(b=[b]),-1!==$.inArray(a.value,b)}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},InputDatefilter=React.createClass({displayName:"InputDatefilter",mixins:[CssClassMixin],propTypes:{originalId:React.PropTypes.string,originalName:React.PropTypes.string,id:React.PropTypes.string,name:React.PropTypes.string,resource:React.PropTypes.string,disabled:React.PropTypes.bool,fromFilterInput:React.PropTypes.object,toFilterInput:React.PropTypes.object,okButton:React.PropTypes.object},getDefaultProps:function(){return{themeClassKey:"input.datefilter",disabled:!1}},getInitialState:function(){return{selectedDates:[]}},render:function(){return React.createElement("div",{className:this.className(),ref:"container"},React.createElement(InputDatefilterSelect,_extends({},this.propsWithoutCSS(),{selectedDates:this.state.selectedDates,onFocus:this.showFilterBody})),React.createElement(InputDatefilterBody,_extends({},this.propsWithoutCSS(),{id:this.props.originalId,name:this.props.originalName,onSelectDate:this.handleSelectDate,ref:"body"})))},componentDidMount:function(){var a=$(ReactDOM.findDOMNode(this.refs.container)),b=$(a.find("input")[0].form);b.on("reset",this.clearSelection)},componentWillUnmount:function(){var a=$(ReactDOM.findDOMNode(this.refs.container)),b=$(a.find("input")[0].form);b.off("reset",this.clearSelection)},clearSelection:function(){this.setState({selectedDates:[]})},showFilterBody:function(a){if(!this.props.disabled){$(document).on("click",this.handleDocumentClick);var b=$(ReactDOM.findDOMNode(this.refs.body)),c=b.find("input[type=text]")[0];b.show(),c.focus()}},hideFilterBody:function(){$(document).off("click",this.handleDocumentClick);var a=$(ReactDOM.findDOMNode(this.refs.body));a.hide()},handleDocumentClick:function(a){var b=$(ReactDOM.findDOMNode(this.refs.container));0===b.find(a.target).length&&this.hideFilterBody()},handleSelectDate:function(a){this.setState({selectedDates:a}),this.hideFilterBody()}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},InputDatefilterBody=React.createClass({displayName:"InputDatefilterBody",mixins:[CssClassMixin],propTypes:{id:React.PropTypes.string,name:React.PropTypes.string,fromFilterInput:React.PropTypes.object,toFilterInput:React.PropTypes.object,okButton:React.PropTypes.object},getDefaultProps:function(){return{themeClassKey:"input.datefilter.body",id:null,name:null,resource:null,fromFilterInput:{},toFilterInput:{},okButton:{name:"ok"}}},render:function(){return React.createElement("div",{className:this.className(),onClick:this.handleFilterBodyClick,ref:"filterBody"},this.renderFromInput(),this.renderToInput(),this.renderUpdateButton())},renderFromInput:function(){return React.createElement("div",{className:"input-datefilter__filter"},React.createElement(Input,_extends({},this.fromInputProps(),{onKeyDown:this.handleInputKeypress,component:"datepicker",ref:"fromInput"})))},fromInputProps:function(){return this.filterInputProps("from")},renderToInput:function(){return React.createElement("div",{className:"input-datefilter__filter"},React.createElement(Input,_extends({},this.toInputProps(),{onKeyDown:this.handleInputKeypress,component:"datepicker",ref:"toInput"})))},toInputProps:function(){return this.filterInputProps("to")},renderUpdateButton:function(){return React.createElement("div",{className:"input-datefilter__button"},React.createElement(Button,_extends({},this.props.okButton,{element:"a",onClick:this.selectDate})))},handleFilterBodyClick:function(a){var b=ReactDOM.findDOMNode(this.refs.filterBody),c=$(ReactDOM.findDOMNode(this.refs.fromInput)).find("input")[0];a.target==b&&c.focus()},handleInputKeypress:function(a){var b=a.keyCode;13==b||9==b?this.handleInputTabKeypress(a):27==b&&(a.preventDefault(),this.selectDate())},handleInputTabKeypress:function(a){a.preventDefault();var b=$(ReactDOM.findDOMNode(this.refs.fromInput)).find("input")[0],c=$(ReactDOM.findDOMNode(this.refs.toInput)).find("input")[0];a.target==b?c.focus():this.selectDate()},selectDate:function(){var a=$(ReactDOM.findDOMNode(this.refs.fromInput)).find("input"),b=$(ReactDOM.findDOMNode(this.refs.toInput)).find("input"),c=$.grep([a.val(),b.val()],function(a){return!!a});this.props.onSelectDate(c)},filterInputProps:function(a){var b={formStyle:"oneLine",resource:this.props.resource,id:this.getFilterInputId(a),name:this.getFilterInputName(a),label:this.getFilterInputLabel(a)};return $.extend(b,this.props[a+"FilterInput"]),b},getFilterInputId:function(a){var b=this.props.id;return b?b+"_"+a:null},getFilterInputName:function(a){var b=this.props.name;return b?b+"_"+a:null},getFilterInputLabel:function(a){return Realize.t("inputs.datefilter."+a)}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},InputDatefilterSelect=React.createClass({displayName:"InputDatefilterSelect",mixins:[CssClassMixin,UtilsMixin,InputComponentMixin],propTypes:{selectedDates:React.PropTypes.array,placeholder:Realize.PropTypes.localizedString,onBlur:React.PropTypes.func},getDefaultProps:function(){return{selectedDates:[],themeClassKey:"input.datefilter.select",placeholder:"select"}},render:function(){return React.createElement("div",null,React.createElement("div",{className:this.className()},React.createElement("span",{className:"caret",onClick:this.focusSelect},"▼"),React.createElement(InputText,{id:this.selectId(),value:this.renderSelectedDates(),disabled:this.props.disabled,placeholder:this.props.placeholder,onFocus:this.props.onFocus,errors:this.props.errors,ref:"select",key:"datefilter_select_"+this.generateUUID()})),React.createElement(Label,_extends({},this.propsWithoutCSS(),{id:this.selectId()})))},renderSelectedDates:function(){var a=this.props.selectedDates;return a.join(" - ")},selectId:function(){return"datefilter_select_"+this.props.id},focusSelect:function(){var a=ReactDOM.findDOMNode(this.refs.select);a.focus()}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},Input=React.createClass({displayName:"Input",mixins:[CssClassMixin],propTypes:{id:React.PropTypes.string,name:React.PropTypes.string,label:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.bool]),value:React.PropTypes.node,component:React.PropTypes.string,formStyle:React.PropTypes.oneOf(["default","filter","oneLine"]),data:React.PropTypes.object,errors:React.PropTypes.object,resource:React.PropTypes.string,scope:React.PropTypes.oneOf(["resource","global"]),maxLength:React.PropTypes.number},getDefaultProps:function(){return{themeClassKey:"input",value:null,component:"text",formStyle:"default",data:{},errors:{},resource:null,scope:"resource",maxLength:null}},getInitialState:function(){return{value:this.props.value}},themeClassKeyByStyle:function(){return"input.wrapper."+this.props.formStyle},inputClassName:function(){var a=this.className();return this.props.className||(a+=" "+Realize.themes.getCssClass("input.grid."+this.props.formStyle)),a},render:function(){var a="render"+S(this.props.component).capitalize().s+"Input";return this.hasOwnProperty(a)?this[a]():this.renderInput()},renderInput:function(){return React.createElement("div",{className:this.inputClassName(),id:this.getInputContainerId()},this.renderComponentInput(),this.renderLabel(),this.renderInputErrors())},renderInputWithoutLabel:function(){return React.createElement("div",{className:this.inputClassName(),id:this.getInputContainerId()},this.renderComponentInput(),this.renderInputErrors())},renderAutocompleteInput:function(){return this.renderInputWithoutLabel()},renderDatefilterInput:function(){return this.renderInputWithoutLabel()},renderDatepickerInput:function(){return this.renderInputWithoutLabel()},renderNumberInput:function(){return this.renderInputWithoutLabel()},renderSwitchInput:function(){return this.renderInputWithoutLabel()},renderFileInput:function(){return this.renderInputWithoutLabel()},renderHiddenInput:function(){return this.renderComponentInput()},renderComponentInput:function(){var a=this.getInputComponentClass(this.props.component),b=React.__spread(this.propsWithoutCSS(),{originalId:this.props.id,originalName:this.props.name,id:this.getInputComponentId(),name:this.getInputComponentName(),errors:this.getInputErrors(),value:this.getInputComponentValue(),maxLength:this.getMaxLength(),ref:"inputComponent"});return React.createElement(a,b)},renderLabel:function(){var a=this.getInputComponentValue(),b=null!==a&&void 0!==a&&String(a).length>0;return React.createElement(Label,_extends({},this.propsWithoutCSS(),{id:this.getInputComponentId(),active:b}))},renderInputErrors:function(){return React.createElement(InputError,{errors:this.getInputErrors()})},getInputContainerId:function(){return"input__"+this.props.id},getInputComponentClass:function(a){var b={text:InputText,autocomplete:InputAutocomplete,checkbox:InputCheckbox,datefilter:InputDatefilter,datepicker:InputDatepicker,number:InputNumber,file:InputFile,hidden:InputHidden,password:InputPassword,select:InputSelect,"switch":InputSwitch,textarea:InputTextarea,checkbox_group:InputCheckboxGroup,radio_group:InputRadioGroup,masked:InputMasked};return b[a]||window[a]},getInputComponentId:function(){var a=this.props.id;return null!==this.props.resource&&"resource"===this.props.scope&&(a=this.props.resource+"_"+a),a},getInputComponentName:function(){var a=this.props.name||this.props.id;return null!==this.props.resource&&"resource"===this.props.scope&&(a=this.props.resource+"["+a+"]"),a},getInputComponentValue:function(){if(this.props.value)return this.props.value;var a=this.props.data||{},b=a[this.props.id];return"boolean"==typeof b&&(b=b?1:0),b},getMaxLength:function(){var a=["text","masked","number","textarea"];return this.props.maxLength&&-1!=a.indexOf(this.props.component)?this.props.maxLength:void 0},getInputErrors:function(){return this.props.errors[this.props.resource]&&this.props.errors[this.props.resource][this.props.id]?this.props.errors[this.props.resource][this.props.id]:this.props.errors[this.props.id]}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},InputDatepicker=React.createClass({displayName:"InputDatepicker",mixins:[CssClassMixin,InputComponentMixin],propTypes:{mask:React.PropTypes.string},getDefaultProps:function(){return{themeClassKey:"input.datepicker",mask:null,format:null,maskType:"date"}},componentDidMount:function(){this.setPickadatePlugin()},render:function(){return React.createElement("span",null,React.createElement(InputMasked,_extends({},this.props,{value:this.formatDateValue(),className:this.className(),ref:"input"})),React.createElement(Label,this.propsWithoutCSS()),React.createElement(Button,{disabled:this.props.disabled||this.props.readOnly,icon:{type:"calendar"},className:"input-datepicker__button prefix",onClick:this.handleCalendarClick,type:"button",ref:"button"}))},getDateFormat:function(){return this.props.format||Realize.t("date.formats.date")},setPickadatePlugin:function(){var a=$(ReactDOM.findDOMNode(this.refs.input));a.pickadate({editable:!0,selectMonths:!0,selectYears:!0,format:this.getDateFormat().toLowerCase()});var b=a.pickadate("picker");b.on("close",this.props.onChange)},handleCalendarClick:function(a){var b=$(ReactDOM.findDOMNode(this.refs.input)),c=b.pickadate("picker");c.get("open")?c.close():c.open(),a.stopPropagation()},formatDateValue:function(){var a=moment(this.props.value),b=a.format(this.getDateFormat());return"Invalid date"==b?this.props.value:b}}),InputError=React.createClass({displayName:"InputError",mixins:[CssClassMixin],propTypes:{errors:React.PropTypes.node},getDefaultProps:function(){return{errors:[],themeClassKey:"input.error.hint"}},render:function(){return React.createElement("span",{className:this.className()},this.errorMessages())},errorMessages:function(){var a=this.props.errors,b="";$.isArray(a)||(a=[a]);for(var c=0;c<a.length;c++){var d=a[c];b+=d+" / "}return b.replace(/[\/\s]*$/,"")}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},InputFile=React.createClass({displayName:"InputFile",mixins:[CssClassMixin,InputComponentMixin],propTypes:{wrapperClassName:React.PropTypes.string,buttonClassName:React.PropTypes.string,buttonName:Realize.PropTypes.localizedString,buttonIcon:React.PropTypes.string,filePathWrapperClassName:React.PropTypes.string,filePathField:React.PropTypes.string,data:React.PropTypes.object},getDefaultProps:function(){return{themeClassKey:"input.file",buttonName:"inputs.file.buttonName",filePathField:null,data:{}}},render:function(){return React.createElement("div",{className:this.wrapperClassName()},React.createElement("div",{className:this.buttonClassName()},React.createElement("span",null,this.getButtonName()),React.createElement("input",_extends({},this.props,{value:this.state.value,onChange:this.handleChange,disabled:this.props.disabled||this.props.readOnly,type:"file",ref:"input"}))),React.createElement("div",{className:this.filePathWrapperClassName()},React.createElement("input",{className:this.inputClassName(),placeholder:this.getLabelName(),onFocus:this._handleFocus,type:"text",ref:"filePath"})))},componentDidMount:function(){this.setFilePathValue()},handleChange:function(a){this._handleChange(a);var b=ReactDOM.findDOMNode(this.refs.input),c=ReactDOM.findDOMNode(this.refs.filePath);$(c).val(b.files[0].name)},wrapperClassName:function(){return this.themedClassName("input.file.wrapper",this.props.wrapperClassName)},filePathWrapperClassName:function(){return this.themedClassName("input.file.filePathWrapper",this.props.filePathWrapperClassName)},buttonClassName:function(){return this.themedClassName("input.file.button",this.props.buttonClassName)},getButtonName:function(){if(this.props.buttonIcon){var a=[];return a.push(React.createElement("i",{className:"material-icons"},this.props.buttonIcon)),a}return Realize.t(this.props.buttonName)},getLabelName:function(){return this.props.label||this.props.name},getFilePathField:function(){var a=this.props.filePathField;return a||(a=this.props.id+"_file_name"),a},setFilePathValue:function(){var a=ReactDOM.findDOMNode(this.refs.filePath),b=this.getFilePathField();if(b){var c=this.props.data[b];c&&(a.value=c)}}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},InputHidden=React.createClass({displayName:"InputHidden",mixins:[InputComponentMixin],render:function(){return React.createElement("input",_extends({},this.props,{type:"hidden",ref:"input"}))}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},InputMasked=React.createClass({displayName:"InputMasked",mixins:[CssClassMixin,InputComponentMixin],propTypes:{type:React.PropTypes.string,mask:React.PropTypes.string,maskType:React.PropTypes.string,regex:React.PropTypes.string,onComplete:React.PropTypes.func,onIncomplete:React.PropTypes.func,onCleared:React.PropTypes.func},getDefaultProps:function(){return{themeClassKey:"input.text",type:"text",mask:null,maskType:null,regex:null,onComplete:function(){},onIncomplete:function(){},onCleared:function(){}}},getInitialState:function(){return{placeholder:this.getPlaceholder()}},predefinedMasks:function j(){var a=Realize.t("masks"),j={};for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];"string"==typeof c?j[b]={mask:c}:"object"==("undefined"==typeof c?"undefined":_typeof(c))&&(j[b]=c)}return j},render:function(){return React.createElement("input",_extends({},this.props,{value:this.state.value,placeholder:this.state.placeholder,className:this.inputClassName(),onChange:this.handleChange,onFocus:this._handleFocus,ref:"input"}),this.props.children)},componentDidMount:function(){var a=this.applyMask();this.setMaskPlaceholder(a)},componentDidUpdate:function(){this.applyMask()},handleChange:function(a){if(this.props.onChange(a),!a.isDefaultPrevented()){var b=$(a.target).inputmask("unmaskedvalue");this.setState({value:b})}},applyMask:function(){var a={};return a=this.props.regex?this.applyRegexMask():this.applyBaseMask()},applyRegexMask:function(){var a=$(this.getInputElement()),b=this.parseMaskOptions();return a.inputmask("Regex",b),b},applyBaseMask:function(){var a=this.props.maskType,b=this.predefinedMasks(),c=b[a],d={};return d=c?this.applyPredefinedMask(c):this.applyCustomMask()},applyPredefinedMask:function(a){var b=$(this.getInputElement()),c=$.extend({},this.parseMaskOptions(),a);return b.inputmask(c),c},applyCustomMask:function(){var a=$(this.getInputElement()),b=this.parseMaskOptions();return a.inputmask(b),this.setMaskPlaceholder(b),b},getInputElement:function(){return ReactDOM.findDOMNode(this.refs.input)},parseMaskOptions:function(){var a=$.extend({showMaskOnHover:!1,clearIncomplete:!0},this.filterMaskOptionProps());return a.oncomplete=this.props.onComplete,a.onincomplete=this.props.onIncomplete,a.oncleared=this.props.onCleared,a},filterMaskOptionProps:function(){var a={},b=["onComplete","onIncomplete","onCleared"];for(var c in this.props)if(this.props.hasOwnProperty(c)){var d=this.props[c];d&&b.indexOf(c)<0&&(a[c]=d)}return a},setMaskPlaceholder:function(a){var b=a.placeholder;b&&this.setState({placeholder:b})}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},InputNumber=React.createClass({displayName:"InputNumber",mixins:[CssClassMixin,InputComponentMixin],getDefaultProps:function(){return{themeClassKey:"input.number",maskType:"integer"}},render:function(){return React.createElement("span",null,React.createElement(InputMasked,_extends({},this.props,{className:this.className(),onChange:this._handleChange,onFocus:this._handleFocus,type:"text",ref:"input"})),React.createElement(Label,this.propsWithoutCSS()))}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},InputPassword=React.createClass({displayName:"InputPassword",mixins:[CssClassMixin,InputComponentMixin],propTypes:{confirms:React.PropTypes.string},getDefaultProps:function(){return{themeClassKey:"input.text"}},render:function(){return React.createElement("input",_extends({},this.props,{value:this.state.value,placeholder:this.getPlaceholder(),className:this.inputClassName(),onChange:this._handleChange,onFocus:this._handleFocus,type:"password",ref:"input"}))}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},InputSwitch=React.createClass({displayName:"InputSwitch",mixins:[CssClassMixin,InputComponentMixin,CheckboxComponentMixin],propTypes:{label:React.PropTypes.string,offLabel:Realize.PropTypes.localizedString,onLabel:Realize.PropTypes.localizedString},getDefaultProps:function(){return{themeClassKey:"input.switch",offLabel:"false",onLabel:"true",label:null}},render:function(){return React.createElement("div",null,React.createElement("div",{className:this.className()},React.createElement("label",null,Realize.t(this.props.offLabel),React.createElement("input",_extends({},this.checkboxProps(),{checked:this.state.checked,value:this.state.value,disabled:this.props.disabled||this.props.readOnly,className:this.inputClassName(),onChange:this._handleCheckboxChange,type:"checkbox",ref:"input"})),React.createElement("span",{className:"lever"}),Realize.t(this.props.onLabel)),this.renderInputHidden()),this.renderLabel())},renderLabel:function(){return this.props.label?React.createElement(Label,{name:this.props.label,active:!0}):null},renderInputHidden:function(){return this.valueIsBoolean()?React.createElement(InputHidden,_extends({},this.props,{value:this.state.value})):null},checkboxProps:function(){return this.valueIsBoolean()?{}:this.props}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},InputText=React.createClass({displayName:"InputText",mixins:[CssClassMixin,InputComponentMixin],propTypes:{type:React.PropTypes.string},getDefaultProps:function(){return{type:"text",themeClassKey:"input.text"}},render:function(){return React.createElement("input",_extends({},this.props,{value:this.state.value,placeholder:this.getPlaceholder(),className:this.inputClassName(),onChange:this._handleChange,onFocus:this._handleFocus,ref:"input"}))}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},InputTextarea=React.createClass({displayName:"InputTextarea",mixins:[CssClassMixin,InputComponentMixin],propTypes:{rows:React.PropTypes.number},getDefaultProps:function(){return{rows:4,themeClassKey:"input.textarea"}},render:function(){return React.createElement("textarea",_extends({},this.props,{value:this.state.value,placeholder:this.getPlaceholder(),className:this.inputClassName(),onChange:this._handleChange,onFocus:this._handleFocus,ref:"input"}))}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},InputRadioGroup=React.createClass({displayName:"InputRadioGroup",mixins:[CssClassMixin,InputComponentMixin,SelectComponentMixin],propTypes:{name:React.PropTypes.string,align:React.PropTypes.oneOf(["vertical","horizontal"]),currentValue:React.PropTypes.string,withGap:React.PropTypes.string},getDefaultProps:function(){return{name:"",align:"vertical",currentValue:null,withGap:!1}},getInitialState:function(){return{currentValue:this.props.currentValue}},renderOptions:function(){for(var a=[],b=this.state.options,c=0;c<b.length;c++){var d=b[c];d.id=this.props.name+"_"+c,d.type="radio",this.state.currentValue===d.value&&(d.defaultChecked=d.value),this.props.withGap&&(d.className="with-gap"),a.push(React.createElement("p",{key:"p_input_"+c,id:"input_"+d.value},React.createElement("input",_extends({},d,{name:this.props.name,onChange:this._handleChange})),React.createElement(Label,{id:d.id,label:d.name})))}return a},render:function(){return React.createElement("div",{className:"input-checkbox-group align-"+this.props.align,ref:"radioGroup"},this.renderOptions())}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},InputSelect=React.createClass({displayName:"InputSelect",mixins:[CssClassMixin,InputComponentMixin,SelectComponentMixin,InputSelectActionsListenerMixin,MaterializeSelectMixin],propTypes:{includeBlank:React.PropTypes.bool,blankText:Realize.PropTypes.localizedString},getDefaultProps:function(){
return{includeBlank:!0,themeClassKey:"input.select",blankText:"select"}},componentDidMount:function(){var a=ReactDOM.findDOMNode(this.refs.select),b=$(a.form);b.on("reset",this.clearSelection)},componentWillUnmount:function(){var a=ReactDOM.findDOMNode(this.refs.select),b=$(a.form);b.off("reset",this.clearSelection)},clearSelection:function(){this.setState({value:[]},this.triggerDependableChanged)},render:function(){return React.createElement("select",{id:this.props.id,name:this.props.name,value:this.selectedValue(),onChange:this.handleChange,disabled:this.isDisabled()||this.props.readOnly,className:this.className(),ref:"select"},this.renderOptions())},renderOptions:function(){var a=[],b=this.state.options;this.props.includeBlank&&a.push(React.createElement(InputSelectOption,{name:Realize.t(this.props.blankText),value:"",key:"empty_option"}));for(var c=0;c<b.length;c++){var d=b[c];a.push(React.createElement(InputSelectOption,_extends({},d,{key:d.name})))}return a},selectedValue:function(){var a=this.state.value;return this.props.multiple||(a=a[0]),a},handleChange:function(a){if(this.props.onChange(a),!a.isDefaultPrevented()){var b=ReactDOM.findDOMNode(this.refs.select);this.setState({value:this.ensureIsArray(b.value)},this.triggerDependableChanged)}}}),InputSelectOption=React.createClass({displayName:"InputSelectOption",propTypes:{name:React.PropTypes.string,value:React.PropTypes.node},render:function(){return React.createElement("option",{value:this.props.value},this.props.name)}}),Label=React.createClass({displayName:"Label",mixins:[CssClassMixin],propTypes:{id:React.PropTypes.string,name:React.PropTypes.string,label:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.bool]),active:React.PropTypes.bool,onClick:React.PropTypes.func},getDefaultProps:function(){return{active:!1,name:"",label:"",themeClassKey:"label"}},getInitialState:function(){return{themeClassKey:this.getLabelThemeClassKey(this.props)}},componentWillReceiveProps:function(a){this.setState({themeClassKey:this.getLabelThemeClassKey(a)})},getLabelThemeClassKey:function(a){var b=a.themeClassKey;return a.active&&(b+=" label.active"),b},render:function(){var a=this.props.label;return"boolean"!=typeof a||a?React.createElement("label",{htmlFor:this.props.id,onClick:this.props.onClick,className:this.className()},a||this.props.name):React.createElement("span",null)}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},Menu=React.createClass({displayName:"Menu",propTypes:{ref_id:React.PropTypes.string,id:React.PropTypes.string,items:React.PropTypes.array},getDefaultProps:function(){return{ref_id:"",id:"",items:[]}},renderPropItems:function(){var a=this.props.items.map(function(a,b){return React.createElement(MenuItem,_extends({},a,{key:"menu_"+b}))},this);return a},renderChildItems:function(){var a=React.Children.map(this.props.children,function(a){return a&&a.type&&"MenuItem"===(a.type.displayName||a.type.name)?a:void 0});return a},render:function(){console&&console.warn&&console.warn("[Realize] Menu prop ref_id will be removed, use id instead!");var a=this.props.ref_id||("string"!=typeof this.props.id?"":this.props.id);return React.createElement("ul",{id:a,className:this.props.className},this.renderPropItems(),this.renderChildItems())}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},MenuItem=React.createClass({displayName:"MenuItem",propTypes:{icon:React.PropTypes.string,iconAlign:React.PropTypes.string,href:React.PropTypes.string,target:React.PropTypes.string,onClick:React.PropTypes.object,className:React.PropTypes.string,method:React.PropTypes.string,element:React.PropTypes.string},getDefaultProps:function(){return{iconAlign:"left",method:"get",element:"a"}},render:function(){return React.createElement("li",null,React.createElement(Button,_extends({},this.props,{clearTheme:!0,name:this.props.text})))}}),Modal=React.createClass({displayName:"Modal",mixins:[Reflux.connect(ModalStore,"modalStore"),CssClassMixin,ContainerMixin],propTypes:{id:React.PropTypes.string,opened:React.PropTypes.bool,marginHeaderFooter:React.PropTypes.number,width:React.PropTypes.string,minContentHeight:React.PropTypes.number,useAvailableHeight:React.PropTypes.bool,dismissible:React.PropTypes.bool,opacity:React.PropTypes.number,inDuration:React.PropTypes.number,outDuration:React.PropTypes.number,ready:React.PropTypes.func,complete:React.PropTypes.func},getDefaultProps:function(){return{id:"",themeClassKey:"modal",opened:!1,marginHeaderFooter:100,width:"60%",minContentHeight:0,useAvailableHeight:!1,dismissible:!0,opacity:.4,inDuration:300,outDuration:200,ready:function(){return!0},complete:function(){return!0}}},getInitialState:function(){return{modalStore:null}},componentDidMount:function(){this.resizeContent(),$(window).on("resize",this.resizeContent),this.props.opened&&this.open()},componentWillUnmount:function(){$(window).off("resize",this.resizeContent)},componentDidUpdate:function(){this.resizeContent(),this.state.opened&&this.open(),this.state.modalStore&&this.handleModalStoreState()},handleModalStoreState:function(){var a=this.state.modalStore,b=a.shouldOpen,c=a.shouldClose,d=a.modalId;d==this.props.id&&(b&&this.open(),c&&this.close())},render:function(){var a=this.filterChildren(ModalHeader)?this.renderHeader():"",b=this.filterChildren(ModalContent)?this.renderContent():"",c=this.filterChildren(ModalFooter)?this.renderFooter():"";return""==a&&""==b&&""==c&&(b=React.createElement(ModalContent,this.props,this.props.children)),React.createElement("div",{id:this.props.id,className:this.className(),ref:"modal"},a,b,c)},renderHeader:function(){return React.createElement("div",{ref:"headerContainer",className:"modal-header-container"},this.filterChildren(ModalHeader))},renderContent:function(){return React.createElement("div",{ref:"contentContainer",className:"modal-content-container"},this.filterChildren(ModalContent))},renderFooter:function(){return React.createElement("div",{ref:"footerContainer",className:"modal-footer-container"},this.filterChildren(ModalFooter))},open:function(a){var b=$(ReactDOM.findDOMNode(this.refs.modal));b.openModal({dismissible:this.props.dismissible,opacity:this.props.opacity,inDuration:this.props.inDuration,outDuration:this.props.outDuration,ready:this.handleReady,complete:this.props.complete})},handleReady:function(){this.resizeContent(),ModalActions.openFinished(),"function"==typeof this.props.ready&&this.props.ready()},close:function(){var a=$(ReactDOM.findDOMNode(this.refs.modal));a.closeModal()},resizeContent:function(){var a=ReactDOM.findDOMNode(this.refs.modal),b=ReactDOM.findDOMNode(this.refs.contentContainer);$(a).css("max-height",$(window).height()-this.props.marginHeaderFooter),$(a).css("width",this.props.width);var c=this.getAvailableHeight(),d=this.getContentHeight(),e=0;e=this.props.useAvailableHeight?c:Math.min(c,d),$(b).css("height",e)},getAvailableHeight:function(){var a=ReactDOM.findDOMNode(this.refs.headerContainer),b=ReactDOM.findDOMNode(this.refs.footerContainer);return $(window).height()-this.props.marginHeaderFooter-($(a).height()+$(b).height())},getContentHeight:function(){var a=ReactDOM.findDOMNode(this.refs.contentContainer),b=this.props.minContentHeight,c=0;return $(a).find("> *").each(function(a,b){c+=$(b).outerHeight()}),Math.max(b,c)}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},ModalButton=React.createClass({displayName:"ModalButton",mixins:[CssClassMixin],propTypes:{modalId:React.PropTypes.string,openerId:React.PropTypes.string},getDefaultProps:function(){return{modalId:"",openerId:""}},render:function(){return React.createElement(Button,_extends({},this.props,{className:this.getClassName(),onClick:this.openModal,ref:"modalButton"}))},getClassName:function(){var a=this.className();return this.props.disabled&&"a"===this.props.element&&(a="button btn-flat disable-action-button"),a},openModal:function(a){a.nativeEvent.preventDefault(),a.stopPropagation(),a.preventDefault(),ModalActions.open(this.props)}}),ModalContent=React.createClass({displayName:"ModalContent",mixins:[CssClassMixin],getDefaultProps:function(){return{themeClassKey:"modal.content"}},render:function(){return React.createElement("div",{className:this.className()},this.props.children)}}),ModalFooter=React.createClass({displayName:"ModalFooter",mixins:[CssClassMixin],propTypes:{separatorThemeClassKey:React.PropTypes.string,withSeparator:React.PropTypes.bool},getDefaultProps:function(){return{themeClassKey:"modal.footer",separatorThemeClassKey:"modal.footer.withSeparator",withSeparator:!0}},render:function(){return React.createElement("div",{className:this.footerClassName()},this.props.children)},footerClassName:function(){var a=this.className();return this.props.withSeparator&&(a+=" "+Realize.themes.getCssClass(this.props.separatorThemeClassKey)),a}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},ModalForm=React.createClass({displayName:"ModalForm",mixins:[CssClassMixin,ContainerMixin],propTypes:{title:React.PropTypes.string,form:React.PropTypes.object},getDefaultProps:function(){return{title:"",form:{}}},getInitialState:function(){return{isLoading:!1}},render:function(){return React.createElement(Modal,this.props,this.renderHeader(),this.renderContent(),this.renderFooter())},renderHeader:function(){var a=this.filterChildren(ModalHeader);return a&&0!=a.length||a.push(React.createElement(ModalHeader,{key:"modal-header"},React.createElement("h5",null,this.props.title))),a},renderContent:function(){return React.createElement(ModalContent,null,React.createElement(Form,_extends({},this.props.form,{submitButton:!1,otherButtons:[],onError:this.handleSubmitError,onSuccess:this.handleSubmitSuccess,ref:"form"}),this.props.children))},renderFooter:function(){return React.createElement(ModalFooter,null,React.createElement(FormButtonGroup,_extends({},this.props.form,{submitButton:this.submitButtonProps(),isLoading:this.state.isLoading})))},submitButtonProps:function k(){var k=this.props.form.submitButton||this.defaultSubmitButtonProps();return k.onClick=this.submitForm,k},defaultSubmitButtonProps:function(){return{name:"actions.send",icon:"send"}},submitForm:function(a){var b=this.refs.form;b.handleSubmit(a),this.setState({isLoading:!0})},handleSubmitSuccess:function(a,b,c){var d=this.props.form.onSuccess;return"function"==typeof d&&this.props.onSuccess(a,b,c),this.setState({isLoading:!1}),!0},handleSubmitError:function(a,b,c){var d=this.props.form.onError;return"function"==typeof d&&this.props.onError(a,b,c),this.setState({isLoading:!1}),!0}}),ModalHeader=React.createClass({displayName:"ModalHeader",mixins:[CssClassMixin],propTypes:{withTitle:React.PropTypes.bool},getDefaultProps:function(){return{themeClassKey:"modal.header",withTitle:!0}},render:function(){return React.createElement("div",{className:this.getClassName()},this.props.children)},getClassName:function(){var a=Realize.themes.getCssClass(this.props.themeClassKey);return!this.props.clearTheme&&this.props.withTitle&&(a+=" "+Realize.themes.getCssClass("modal.header.withTitle")),a}}),HeaderNotifications=React.createClass({displayName:"HeaderNotifications",propTypes:{ouSlug:React.PropTypes.string,className:React.PropTypes.string,text:React.PropTypes.string,icon:React.PropTypes.string,baseUrl:React.PropTypes.string},getDefaultProps:function(){return{ouSlug:null,className:"notifications",icon:"add_alert",text:"",baseUrl:"/notifications"}},getInitialState:function(){return{count:0,active:!1}},handleClick:function(){var a=ReactDOM.findDOMNode(this.refs.notificationsList);$(a).slideDown(),this.state.active=!this.state.active,this.forceUpdate()},closeList:function(){this.setState({active:!1})},componentDidMount:function(){$("html").on("click",this.closeList),$(".notifications-list").mouseover(function(){$("body").addClass("noscroll")}),$(".notifications-list").mouseout(function(){$("body").removeClass("noscroll")}),this.loadNotifications()},loadNotifications:function(){$.ajax({url:this.props.baseUrl,dataType:"json",data:{per_page:50,ou_slug:this.props.ouSlug,q:{s:"created_at desc"}},success:function(a){this.setState({notifications:a.notifications,count:a.unread_count})}.bind(this)})},renderIcon:function(){var a=[];return this.state.count>0?a.push(React.createElement("i",{className:"material-icons",key:"notification_icon"},"notifications")):a.push(React.createElement("i",{className:"material-icons",key:"notification_icon"},"notifications_none")),a},handleClickItem:function(a){$.ajax({url:this.props.baseUrl,dataType:"json",data:{per_page:50,q:{s:"created_at desc"}},success:function(a){this.setState({notifications:a.notifications,count:a.not_read_count})}.bind(this)})},render:function(){return React.createElement("div",{className:this.props.className},React.createElement("a",{onClick:this.handleClick},this.renderIcon(),React.createElement(NotificationNumber,{count:this.state.count})),React.createElement(NotificationsList,{ref:"notificationsList",active:this.state.active,baseUrl:this.props.baseUrl,handleClickItem:this.handleClickItem,notifications:this.state.notifications}))}}),NotificationNumber=React.createClass({displayName:"NotificationNumber",propTypes:{className:React.PropTypes.string,count:React.PropTypes.number},getDefaultProps:function(){return{className:"notification-number",count:0}},unreadNotificationNumber:function(){var a=[];return this.props.count&&this.props.count>0&&a.push(React.createElement("span",{className:this.props.className,key:"notification_count"},this.props.count)),a},render:function(){return React.createElement("span",{className:"jewelCount"},this.unreadNotificationNumber())}}),NotificationsList=React.createClass({displayName:"NotificationsList",mixins:[RequestHandlerMixin,ModalRendererMixin],propTypes:{className:React.PropTypes.string,active:React.PropTypes.bool,notifications:React.PropTypes.array,handleClickItem:React.PropTypes.func,baseUrl:React.PropTypes.string},getDefaultProps:function(){return{className:"notifications-list z-depth-1",active:!1,notifications:[],baseUrl:"/notifications",handleClickItem:function(a){}}},handleClick:function(a,b){var c=this.props.baseUrl+"/"+b;this.performRequest(c)},onSuccess:function(a){this.renderModalHtml(a),this.props.handleClickItem(a)},renderNotification:function(){for(var a=[],b=this.props.notifications,c=0;c<b.length;c++){var d=b[c],e=d.read_by_user?"":"not-read";a.push(React.createElement("li",{className:e,key:"notification_item_"+c},React.createElement("a",{onClick:this.handleClick.bind(this,event,d.id)},React.createElement("span",null,d.message),React.createElement("div",{className:"created_at-notification"},"Criado em: ",moment(d.created_at).format("DD/MM/YYYY HH:mm")))))}return a},renderSeeAll:function(){var a=[];return 0===this.props.notifications.length?a.push(React.createElement("div",{className:"box-see-all",key:"notification_see_all"},React.createElement("div",{className:"divider"}),React.createElement("span",null,React.createElement("a",null,I18n.t("labels.not-notifications"))))):a.push(React.createElement("div",{className:"box-see-all",key:"notification_see_all"},React.createElement("div",{className:"divider"}),React.createElement("span",null,React.createElement("a",{href:"/notifications"},I18n.t("buttons.see-all"))))),a},render:function(){var a=this.props.active?"block":"none";return React.createElement("div",{className:this.props.className,style:{display:a}},React.createElement("ul",null,this.renderNotification()),this.renderSeeAll())}}),Pagination=React.createClass({displayName:"Pagination",mixins:[CssClassMixin],propTypes:{count:React.PropTypes.number,page:React.PropTypes.number,perPage:React.PropTypes.number,window:React.PropTypes.number,onPagination:React.PropTypes.func,type:React.PropTypes.string},getDefaultProps:function(){return{themeClassKey:"pagination",page:1,perPage:20,window:4,onPagination:function(a){return!0}}},render:function(){return React.createElement("ul",{className:this.className()},this.renderPreviousButton(),this.renderPaginationByType(),this.renderNextButton())},renderPaginationByType:function(){return"default"==this.props.type?React.createElement("span",null,this.renderFirstButton(),this.renderPageButtons(),this.renderLastButton()):"input"==this.props.type?React.createElement("span",null,this.renderPageInput()):void 0},renderPreviousButton:function(){var a=this.props.page<=1;return React.createElement(PaginationItem,{disabled:a,iconType:"left",onClick:this.navigateToPrevious})},renderFirstButton:function(){return this.firstWindowPage()<=1?"":React.createElement(PaginationItem,{text:"...",onClick:this.navigateTo.bind(this,1)})},renderNextButton:function(){var a=this.props.page>=this.lastPage();return React.createElement(PaginationItem,{disabled:a,iconType:"right",onClick:this.navigateToNext})},renderLastButton:function(){var a=this.lastPage();return this.lastWindowPage()>=a?"":React.createElement(PaginationItem,{text:"...",onClick:this.navigateTo.bind(this,a)})},renderPageButtons:function(){for(var a=[],b=this.firstWindowPage();b<=this.lastWindowPage();b++)a.push(this.renderPageButton(b));return a},renderPageButton:function(a){var b=this.props.page===a;return React.createElement(PaginationItem,{active:b,text:String(a),onClick:this.navigateTo.bind(this,a),key:"page_"+a})},renderPageInput:function(){var a=this.props.page;return React.createElement(Input,{value:a,clearTheme:!0,className:"form__input input-field col s3"})},lastPage:function(){return Math.ceil(this.props.count/this.props.perPage)},firstWindowPage:function(){return Math.max(1,this.props.page-this.props.window)},lastWindowPage:function(){return Math.min(this.lastPage(),this.props.page+this.props.window)},navigateToPrevious:function(){var a=Math.max(1,this.props.page-1);this.navigateTo(a)},navigateToNext:function(){var a=Math.min(this.lastPage(),this.props.page+1);this.navigateTo(a)},navigateTo:function(a){this.props.onPagination(a)}}),PaginationItem=React.createClass({displayName:"PaginationItem",mixins:[CssClassMixin],propTypes:{disabled:React.PropTypes.bool,active:React.PropTypes.bool,iconType:React.PropTypes.string,text:React.PropTypes.string,onClick:React.PropTypes.func},getDefaultProps:function(){return{disabled:!1,active:!1,iconType:null,text:"",onClick:function(a){return!0}}},getInitialState:function(){return{themeClassKey:this.buildThemeClassKey()}},componentWillReceiveProps:function(a){this.setState({themeClassKey:this.buildThemeClassKey(a)})},buildThemeClassKey:function(a){a=a||this.props;var b="pagination.item";return a.disabled&&(b+=" pagination.item.disabled"),a.active&&(b+=" pagination.item.active"),b},render:function(){return React.createElement("li",{className:this.className(),onClick:this.handleClick},React.createElement("a",{href:"#!"},this.props.text,this.props.iconType?this.renderIcon():""))},renderIcon:function(){return React.createElement(Icon,{type:this.props.iconType})},handleClick:function(){this.props.disabled||this.props.onClick()}}),SideNav=React.createClass({displayName:"SideNav",mixins:[CssClassMixin],propTypes:{items:React.PropTypes.array,icon:React.PropTypes.string,iconAlign:React.PropTypes.string,text:React.PropTypes.string,ref_id:React.PropTypes.string},getDefaultProps:function(){return{themeClassKey:"sidenav.button",items:[],icon:"view_headline",iconAlign:"",ref_id:"sideNav",text:""}},render:function(){var a=this.props.text?"left":"";return React.createElement("div",null,React.createElement("a",{href:this.props.href,className:this.className(),ref:"sideNav",onClick:this.props.onClick,target:this.props.target,"data-activates":this.props.ref_id},React.createElement("i",{className:"material-icons "+a},this.props.icon),this.props.text),this.renderMenu())},renderMenu:function(){return React.createElement(Menu,{ref_id:this.props.ref_id,className:"side-nav full",items:this.props.items},this.props.children)},componentDidMount:function(){$(ReactDOM.findDOMNode(this.refs.sideNav)).sideNav()}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},Table=React.createClass({displayName:"Table",mixins:[CssClassMixin],propTypes:{resource:React.PropTypes.string,columns:React.PropTypes.object,dataRowIdField:React.PropTypes.string,selectedRowIdsParam:React.PropTypes.string,selectable:React.PropTypes.bool,sortConfigs:React.PropTypes.object,sortData:React.PropTypes.object,dataRows:React.PropTypes.array,count:React.PropTypes.number,selectedRowIds:React.PropTypes.array,allSelected:React.PropTypes.bool,allSelectedData:React.PropTypes.object,emptyMessage:Realize.PropTypes.localizedString,actionButtons:React.PropTypes.object,onSort:React.PropTypes.func,onSelect:React.PropTypes.func,onRemoveSelection:React.PropTypes.func,onSelectAll:React.PropTypes.func,rowSelectableFilter:React.PropTypes.func,forceShowSelectAllButton:React.PropTypes.bool,onClickRow:React.PropTypes.func,rowHref:React.PropTypes.string,tableRowCssClass:React.PropTypes.func},sortConfigs:null,getDefaultProps:function(){return{themeClassKey:"table",columns:{},dataRowIdField:"id",selectedRowIdsParam:"rowIds",selectable:!1,sortConfigs:{},sortData:{},dataRows:[],count:0,selectedRowIds:null,allSelected:null,allSelectedData:{},emptyMessage:"table.emptyResult",actionButtons:{member:[],collection:[]},onSort:function(a){},onSelect:function(a,b){},onRemoveSelection:function(a){},onSelectAll:function(a){},rowSelectableFilter:null,forceShowSelectAllButton:!1,onClickRow:null,rowHref:null,tableRowCssClass:null}},getInitialState:function(){return{selectedRowIds:this.props.selectedRowIds||[],allSelected:this.props.allSelected}},componentWillReceiveProps:function(a){var b=a.selectedRowIds,c=a.allSelected;b&&$.isArray(b)&&this.setState({selectedRowIds:b}),null!==c&&void 0!==c&&this.setState({allSelected:c})},componentDidMount:function(){if(this.sortConfigs=$.extend({},Realize.config.grid.sort,this.props.sortConfigs),this.props.customTableHeader){var a=$(ReactDOM.findDOMNode(this.refs.thead));a.prepend(this.props.customTableHeader)}},render:function(){return React.createElement("div",{className:this.wrapperClassName()},this.renderActions(),React.createElement("table",{className:this.className()},React.createElement("thead",{ref:"thead"},React.createElement("tr",null,this.renderHeaderSelectCell(),this.renderTableHeaders())),React.createElement("tbody",null,this.props.dataRows.length>0?this.renderTableRows():this.renderEmptyMessage())))},wrapperClassName:function l(){var l="";return this.props.clearTheme||(l=Realize.themes.getCssClass("table.wrapper")),l},renderActions:function(){var a=this.props.actionButtons.collection||[];return this.props.selectable||0!=a.length?React.createElement(TableActions,{dataRows:this.state.dataRows,selectedRowIds:this.state.selectedRowIds,selectedRowIdsParam:this.props.selectedRowIdsParam,allSelected:this.state.allSelected,allSelectedData:this.props.allSelectedData,count:this.props.count,onRemoveSelection:this.removeSelection,onSelectAll:this.selectAllRows,actionButtons:this.props.actionButtons.collection||[],rowSelectableFilter:this.props.rowSelectableFilter,forceShowSelectAllButton:this.props.forceShowSelectAllButton}):""},renderHeaderSelectCell:function(){return this.props.selectable?React.createElement(TableSelectCell,{onSelectToggle:this.toggleDataRows,dataRowIds:this.getDataRowIds(),selected:this.isAllDataRowsSelected(),rowId:"all",cellElement:"th",key:"header_select"}):""},renderTableHeaders:function(){var a=this.props.columns,b=[];for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];b.push(React.createElement(TableHeader,_extends({},d,this.sortConfigs,{name:c,key:c,sortDirection:this.sortDirectionForColumn(c,d),ref:"header_"+c,resource:this.props.resource,onSort:this.props.onSort,clearTheme:this.props.clearTheme})))}return b},sortDirectionForColumn:function(a,b){var c=b.sortFieldName,d=c||a,e=this.props.sortData;return e.field&&e.field==d?e.direction:null},renderTableRows:function(){for(var a=[],b=this.props.dataRows,c=0;c<b.length;c++){var d=b[c];a.push(React.createElement(TableRow,_extends({},this.propsWithoutCSS(),{onSelectToggle:this.toggleDataRows,selected:this.dataRowIsSelected(d),data:d,dataRowIdField:this.props.dataRowIdField,actionButtons:this.props.actionButtons.member||[],key:"table_row_"+c,rowSelectableFilter:this.props.rowSelectableFilter,onClickRow:this.props.onClickRow,rowHref:this.props.rowHref,tableRowCssClass:this.props.tableRowCssClass})))}return a},renderEmptyMessage:function(){var a=0;for(var b in this.props.columns)a++;return this.props.selectable&&a++,React.createElement("tr",null,React.createElement("td",{colSpan:a,className:"empty-message"},Realize.t(this.props.emptyMessage)))},getDataRowIds:function(){var a=this.props.rowSelectableFilter,b=$.grep(this.props.dataRows,function(b){return!a||!!a(b)});return $.map(b,function(a){return a[this.props.dataRowIdField]}.bind(this))},toggleDataRows:function(a,b,c){var d=[];d=c?this.addSelectedDataRows(b):this.removeSelectedDataRows(b),this.props.onSelect(a,d),a.isDefaultPrevented()||this.setState({selectedRowIds:d,allSelected:!1})},addSelectedDataRows:function(a){var b=this.state.selectedRowIds.slice();return $.each(a,function(a,c){$.inArray(c,b)<0&&b.push(c)}),b},removeSelectedDataRows:function(a){return $.grep(this.state.selectedRowIds,function(b){return $.inArray(b,a)<0}.bind(this))},dataRowIsSelected:function(a){var b=a[this.props.dataRowIdField];return $.inArray(b,this.state.selectedRowIds)>=0||this.props.allSelected},isAllDataRowsSelected:function(){var a=this.getDataRowIds(),b=$.grep(this.state.selectedRowIds,function(b){return $.inArray(b,a)>=0});return a.length>0&&a.length==b.length||this.props.allSelected},removeSelection:function(a){this.props.onRemoveSelection(a),a.isDefaultPrevented()||this.setState({selectedRowIds:[],allSelected:!1})},selectAllRows:function(a){this.props.onSelectAll(a),a.isDefaultPrevented()||this.setState({allSelected:!0})}}),TableActionButton=React.createClass({displayName:"TableActionButton",mixins:[CssClassMixin,RequestHandlerMixin],propTypes:{selectedRowIds:React.PropTypes.array,selectedRowIdsParam:React.PropTypes.string,allSelected:React.PropTypes.bool,allSelectedData:React.PropTypes.object,count:React.PropTypes.number,actionUrl:React.PropTypes.string,method:React.PropTypes.string,disabled:React.PropTypes.bool,selectionContext:React.PropTypes.oneOf(["none","atLeastOne"]),conditionToShowActionButton:React.PropTypes.func,component:React.PropTypes.string,params:React.PropTypes.object},getDefaultProps:function(){return{selectedRowIds:[],allSelected:!1,method:null,conditionParams:null,disabled:!1,selectionContext:"none",component:"Button",params:null,conditionToShowActionButton:function(a){return!0}}},render:function(){return React.createElement("span",null,this.renderButton())},renderButton:function renderButton(){var component=[];if(!this.props.conditionToShowActionButton(this.props.conditionParams))return component;var buttonProps=React.__spread({},this.props,{isLoading:this.state.isLoading,disabled:this.isDisabled(),method:this.actionButtonMethod(),href:this.actionButtonHref(),onClick:this.actionButtonClick,key:this.props.name}),buttonComponent=React.createElement(eval(this.props.component),buttonProps);return component.push(buttonComponent),component},isDisabled:function(){if(this.props.disabled||this.state.isLoading)return!0;var a=this.props.selectionContext;return"none"===a?!1:"atLeastOne"===a?0===this.props.selectedRowIds.length:!1},actionButtonMethod:function(){var a=this.props.href;return a?this.props.method:null},actionButtonHref:function(){var a=this.props.href;if(!a)return"#!";var b=this.getSelectedData();if(a=a+"?"+$.param(b),this.props.params)for(var c in this.props.params)a=a+"&"+c+"="+this.props.params[c];return a},actionButtonClick:function(a){if(!this.isDisabled()){var b=this.props.onClick,c=this.props.actionUrl,d=this.getSelectedData();$.isFunction(b)?b(a,d):c&&this.performRequest(c,d,this.props.method)}},getSelectedData:function(){var a={};return this.props.allSelected&&this.props.allSelectedData&&!$.isEmptyObject(this.props.allSelectedData)?a=this.props.allSelectedData:a[this.props.selectedRowIdsParam]=this.props.selectedRowIds,a}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},TableActions=React.createClass({displayName:"TableActions",mixins:[CssClassMixin],propTypes:{dataRows:React.PropTypes.array,selectedRowIds:React.PropTypes.array,selectedRowIdsParam:React.PropTypes.string,actionButtons:React.PropTypes.array,allSelected:React.PropTypes.bool,count:React.PropTypes.number,onRemoveSelection:React.PropTypes.func,onSelectAll:React.PropTypes.func,rowSelectableFilter:React.PropTypes.func,forceShowSelectAllButton:React.PropTypes.bool},getDefaultProps:function(){return{themeClassKey:"table.actions",actionButtons:[],selectedRowIds:[],allSelected:!1,rowSelectableFilter:null,forceShowSelectAllButton:!1,onRemoveSelection:function(a){},onSelectAll:function(a){}}},render:function(){return React.createElement("div",{className:this.className()},React.createElement("div",null,React.createElement(TableSelectionIndicator,this.propsWithoutCSS()),this.renderButtons()))},renderButtons:function(){for(var a=[],b=this.props.actionButtons,c=0;c<b.length;c++){var d=b[c];a.push(React.createElement(TableActionButton,_extends({},d,this.propsWithoutCSS(),{element:"a",themeClassKey:"button.flat",key:"action_"+c})))}return a}}),TableCell=React.createClass({displayName:"TableCell",mixins:[CssClassMixin],propTypes:{name:React.PropTypes.string,data:React.PropTypes.object,dataRowIdField:React.PropTypes.string,value:React.PropTypes.func,format:React.PropTypes.oneOf(["text","currency","number","percentage","boolean","date","datetime","time"])},getDefaultProps:function(){return{themeClassKey:"table.cell",format:"text",data:{}}},render:function(){return React.createElement("td",{className:this.cellClassName()},this.renderValue())},cellClassName:function(){var a=this.className();return this.props.format&&(a+=" table-cell--"+this.props.format),this.props.name&&(a+=" table-cell--"+this.props.name),a},renderValue:function renderValue(){var format=this.props.format,customValue=this.props.value,dataValue=this.props.data[this.props.name],value=null;if(customValue)value=customValue(this.props.data,this.props);else if(null===dataValue||void 0===dataValue)value="-";else try{value=this[format+"Value"](dataValue)}catch(err){value=this.textValue(dataValue)}return this.props.component?React.createElement(eval(this.props.component),$.extend({},this.props,{value:value})):value},textValue:function(a){return a},numberValue:function(a){return a=parseFloat(a),numeral(a).format("0,0.[000]")},percentageValue:function(a){return a=parseFloat(a),(a>1||-1>a)&&(a/=100),numeral(a).format("0.00%")},currencyValue:function(a){return a=parseFloat(a),numeral(a).format("$ 0,0.00")},booleanValue:function(a){return Realize.t(String(a))},dateValue:function(a){return a=moment(a),a.format("DD/MM/YYYY")},datetimeValue:function(a){return a=moment(a),a.format("DD/MM/YYYY HH:mm")},timeValue:function(a){return a=moment(a),a.format("HH:mm:ss")}}),TableHeader=React.createClass({displayName:"TableHeader",mixins:[CssClassMixin,LocalizedResourceFieldMixin],propTypes:{name:React.PropTypes.string,label:Realize.PropTypes.localizedString,format:React.PropTypes.oneOf(["text","currency","number","percentage","boolean","date","datetime","time"]),sortable:React.PropTypes.bool,
sortDirection:React.PropTypes.string,sortFieldName:React.PropTypes.string,onSort:React.PropTypes.func},getDefaultProps:function(){return{themeClassKey:"table.header",sortable:!0,sortDirection:null,sortFieldName:null,onSort:function(a){return!0}}},render:function(){return React.createElement("th",{className:this.headerClassName()},React.createElement("span",{onClick:this.sortColumn,className:this.labelClassName()},this.getLabel()))},headerClassName:function(){var a=this.className();return this.props.format&&(a+=" table-header--"+this.props.format),a},getLabel:function(){return this.props.label&&this.props.label.length>0?Realize.t(this.props.label):this.localizeResourceField()},labelClassName:function(){var a="";if(this.props.clearTheme||(a+=Realize.themes.getCssClass("table.header.label")),this.props.sortable){a+=" sortable";var b=this.props.sortDirection;null!==b&&(a+=" "+b)}return a},sortColumn:function(){if(!this.props.sortable)return null;var a=this.buildSortData();this.props.onSort(a)},buildSortData:function(){var a=this.getSortFieldName(),b=this.getSortDirection();return{field:a,direction:b}},getSortFieldName:function(){return this.props.sortFieldName||this.props.name},getSortDirection:function(){var a=this.props.sortDirection;return null===a||"desc"==a?"asc":"asc"==a?"desc":void 0}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},TableRow=React.createClass({displayName:"TableRow",mixins:[CssClassMixin],propTypes:{columns:React.PropTypes.object,data:React.PropTypes.object,dataRowIdField:React.PropTypes.string,selectable:React.PropTypes.bool,selected:React.PropTypes.bool,actionButtons:React.PropTypes.array,rowSelectableFilter:React.PropTypes.func,onSelectToggle:React.PropTypes.func,onClickRow:React.PropTypes.func,rowHref:React.PropTypes.string,tableRowCssClass:React.PropTypes.func},getDefaultProps:function(){return{columns:{},data:{},dataRowIdField:"id",selectable:!0,selected:!1,actionButtons:[],themeClassKey:"table.row",rowSelectableFilter:null,onClickRow:null,rowHref:null,tableRowCssClass:null,onSelectToggle:function(a,b,c){}}},render:function(){return React.createElement("tr",{className:this.getClassName(),ref:"row",onClick:this.rowClick},this.renderSelectCell(),this.renderCells(),this.renderActionsCell())},getClassName:function(){var a=this.className();if((this.props.onClickRow||this.props.rowHref)&&(a+=" clickable-row"),this.props.tableRowCssClass){var b=this.props.tableRowCssClass(this.props.data);b&&(a=a+" "+b)}return a},renderSelectCell:function(){if(!this.props.selectable)return"";var a=this.props.rowSelectableFilter;return"function"!=typeof a||a(this.props.data)?React.createElement(TableSelectCell,{onSelectToggle:this.props.onSelectToggle,dataRowIds:[this.getDataRowId()],rowId:String(this.getDataRowId()),selected:this.props.selected,key:"select"}):React.createElement("td",null)},renderCells:function(){var a=this.props.columns,b=[];return $.each(a,function(a,c){b.push(React.createElement(TableCell,_extends({},c,this.propsWithoutCSS(),{name:a,key:a})))}.bind(this)),b},renderActionsCell:function(){return $.isArray(this.props.actionButtons)&&0!==this.props.actionButtons.length?React.createElement(TableRowActions,_extends({},this.propsWithoutCSS(),{ref:"actions"})):""},rowClick:function(a){if(!a.isPropagationStopped()){var b=this.props.onClickRow,c=this.props.rowHref;b&&"function"==typeof b?b(a,this.props.data):c&&"string"==typeof c&&this.goToRowHref(a)}},goToRowHref:function(a){var b=this.props.rowHref,c=this.props.data[this.props.dataRowIdField];window.location.href=b.replace(/:id/,c)},getDataRowId:function(){return this.props.data[this.props.dataRowIdField]}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},TableRowActionButton=React.createClass({displayName:"TableRowActionButton",mixins:[CssClassMixin,RequestHandlerMixin],propTypes:{data:React.PropTypes.object,dataRowIdField:React.PropTypes.string,count:React.PropTypes.number,actionUrl:React.PropTypes.string,method:React.PropTypes.string,disabled:React.PropTypes.bool,conditionToShowActionButton:React.PropTypes.func,component:React.PropTypes.string,element:React.PropTypes.string},getDefaultProps:function(){return{data:{},dataRowIdField:"id",method:null,disabled:!1,component:null,element:"a",themeClassKey:"button.flat",conditionToShowActionButton:function(a){return!0}}},render:function(){return React.createElement("span",null,this.renderButton())},renderButton:function renderButton(){var component=[];return this.props.conditionToShowActionButton(this.props.data)?this.props.component?React.createElement(eval(this.props.component),this.props):(component.push(React.createElement(Button,_extends({},this.props,{method:this.actionButtonMethod(),href:this.actionButtonHref(),onClick:this.actionButtonClick,key:"button"}))),component):component},actionButtonMethod:function(){var a=this.props.href;return a?this.props.method:null},actionButtonHref:function(){var a=this.props.href;if(a){var b=this.props.data[this.props.dataRowIdField];a=a.replace(/:id/,b)}return a},actionButtonUrl:function(){var a=this.props.actionUrl;if(a){var b=this.props.data[this.props.dataRowIdField];a=a.replace(/:id/,b)}return a},actionButtonClick:function(a){var b=this.props.onClick,c=this.actionButtonUrl();if($.isFunction(b)){var d=this.props.data[this.props.dataRowIdField];b(a,d,this.props.data)}else if(c){var e=this.getActionData(this.props);this.performRequest(c,e,this.props.method||"POST")}a.stopPropagation()},getActionData:function(){var a=this.props.dataIdParam||"id",b=this.props.data[this.props.dataRowIdField],c={};return c[a]=b,c}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},TableRowActions=React.createClass({displayName:"TableRowActions",mixins:[CssClassMixin,RequestHandlerMixin],propTypes:{data:React.PropTypes.object,dataRowIdField:React.PropTypes.string,actionButtons:React.PropTypes.array,conditionParams:React.PropTypes.object,component:React.PropTypes.string,paramsToComponent:React.PropTypes.object},getDefaultProps:function(){return{data:{},dataRowIdField:"id",actionButtons:[],themeClassKey:"table.row.actions",conditionParams:{},component:null,paramsToComponent:{}}},render:function(){return React.createElement("td",{className:this.className()},this.renderButtons())},renderButtons:function renderButtons(){for(var actionButtons=[],actionButtonsProps=this.props.actionButtons,i=0;i<actionButtonsProps.length;i++){var actionButtonProps=actionButtonsProps[i];if(actionButtonProps.component)return React.createElement(eval(actionButtonProps.component),$.extend({},this.props,actionButtonProps.paramsToComponent));actionButtons.push(React.createElement(TableRowActionButton,_extends({key:"action_"+i},actionButtonProps,{dataRowIdField:this.props.dataRowIdField,data:this.props.data})))}return actionButtons}}),TableSelectCell=React.createClass({displayName:"TableSelectCell",mixins:[CssClassMixin,UtilsMixin],propTypes:{rowId:React.PropTypes.string,cellElement:React.PropTypes.string,dataRowIds:React.PropTypes.array,selected:React.PropTypes.bool,onSelectToggle:React.PropTypes.func},getDefaultProps:function(){return{themeClassKey:"table.select",rowId:"",cellElement:"td",dataRowIds:[],selected:!1,onSelectToggle:function(a,b,c){}}},render:function(){return React.createElement(this.props.cellElement,{className:this.className()},[React.createElement(InputCheckbox,{id:this.getCheckboxId(),checked:this.props.selected,key:this.generateUUID()}),React.createElement(Label,{id:this.getCheckboxId(),key:"label",onClick:this.handleChange})])},getCheckboxId:function(){return"select_"+String(this.props.rowId)},handleChange:function(a){this.props.onSelectToggle(a,this.props.dataRowIds,!this.props.selected)},handleClick:function(a){a.stopPropagation()}}),TableSelectionIndicator=React.createClass({displayName:"TableSelectionIndicator",mixins:[CssClassMixin],propTypes:{dataRows:React.PropTypes.array,selectedRowIds:React.PropTypes.array,actionButtons:React.PropTypes.array,message:React.PropTypes.object,removeSelectionButtonName:Realize.PropTypes.localizedString,selectAllButtonName:Realize.PropTypes.localizedString,allSelected:React.PropTypes.bool,count:React.PropTypes.number,onRemoveSelection:React.PropTypes.func,onSelectAll:React.PropTypes.func,rowSelectableFilter:React.PropTypes.func,forceShowSelectAllButton:React.PropTypes.bool},getDefaultProps:function(){return{themeClassKey:"table.selectionIndicator",dataRows:[],selectedRowIds:[],actionButtons:[],message:{plural:"table.selection.select.plural",singular:"table.selection.select.singular"},removeSelectionButtonName:"table.selection.clear",selectAllButtonName:"table.selection.selectAll",allSelected:!1,rowSelectableFilter:null,forceShowSelectAllButton:!1,onRemoveSelection:function(a){},onSelectAll:function(a){}}},render:function(){return React.createElement("div",{className:this.className()},React.createElement("span",null,this.renderMessage())," ",this.renderActions())},renderMessage:function(){var a=this.getSelectionCount();if(0===a)return"";if(1===a)return Realize.t(this.props.message.singular);var b=Realize.t(this.props.message.plural);return b.replace(/:count/,a)},renderActions:function(){var a=this.getSelectionCount();return 0===a?"":React.createElement("span",null,"(",this.renderRemoveSelectionButton(),this.renderSelectAllButton(),")")},renderRemoveSelectionButton:function(){return React.createElement("a",{href:"#!",onClick:this.props.onRemoveSelection},Realize.t(this.props.removeSelectionButtonName))},renderSelectAllButton:function(){return"function"!=typeof this.props.rowSelectableFilter&&!this.props.allSelected||this.props.forceShowSelectAllButton?React.createElement("span",null," | ",React.createElement("a",{href:"#!",onClick:this.props.onSelectAll},this.getSelectAllButtonName())):""},getSelectionCount:function(){return this.props.allSelected&&this.props.count?this.props.count:this.props.selectedRowIds.length},getSelectAllButtonName:function(){var a=Realize.t(this.props.selectAllButtonName),b=this.props.count||this.props.dataRows.length;return a.replace(/:count/,b)}}),Tab=React.createClass({displayName:"Tab",mixins:[CssClassMixin,ContainerMixin],propTypes:{id:React.PropTypes.string},render:function(){return React.createElement("div",{id:this.props.id,className:this.className()},this.renderChildren())}}),TabButton=React.createClass({displayName:"TabButton",mixins:[CssClassMixin,ContainerMixin,FormContainerMixin],propTypes:{id:React.PropTypes.string,title:React.PropTypes.string,active:React.PropTypes.bool},getDefaultProps:function(){return{themeClassKey:"tabs.tabButton",errorThemeClassKey:"tabs.tabButton.error",className:"s1",active:!1}},render:function(){return React.createElement("li",{className:this.formContainerClassName()},React.createElement("a",{href:"#"+this.props.id,className:this.props.active?"active":""},this.props.title))}}),_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},Tabs=React.createClass({displayName:"Tabs",mixins:[CssClassMixin,ContainerMixin],propTypes:{themeClassKey:React.PropTypes.string,className:React.PropTypes.string,activeTab:React.PropTypes.number},getDefaultProps:function(){return{themeClassKey:"tabs",activeTab:1}},componentDidMount:function(){$(ReactDOM.findDOMNode(this.refs.tabsContainer)).tabs()},render:function(){return React.createElement("div",{className:this.className()},React.createElement("ul",{className:"tabs z-depth-1",ref:"tabsContainer"},this.renderTabButtons()),React.createElement("div",null,this.renderChildren()))},renderTabButtons:function(){var a=[],b=this.getChildren();return React.Children.forEach(b,function(b,c){var d=c===this.props.activeTab-1;a.push(React.createElement(TabButton,_extends({},b.props,{active:d,key:"tab_"+c})))}.bind(this)),a}});